<!DOCTYPE html>
<html lang="en">
<head>
<title>Home - Octopus Deploy</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="description" content="Octopus Deploy end user documentation">
<meta name="author" content="Octopus Deploy">
<link href="https://octopus.com/Content/css?v=-4KqQQob8dsL5hdI1n8ITu5WSvQ-X4_-0QjLsU2Qxgo1" rel="stylesheet">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css" integrity="sha256-NuCn4IvuZXdBaFKJOAcsU2Q3ZpwbdFisd5dux4jkQ5w=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/featherlight/1.7.0/featherlight.min.css" integrity="sha256-Bl4rr1AwUjcb8VvRrdHXqJvRRCyF7oHsgUl74ELjr7k=" crossorigin="anonymous">
<meta name="viewport" content="width=device-width">
<meta property="og:type" content="website">
<meta property="og:title" content="Home - Octopus Deploy">
<meta property="og:description" content="Octopus Deploy end user documentation">
<meta property="og:site_name" content="Octopus Deploy">
<meta property="twitter:card" content="summary">
<meta property="twitter:site" content="@OctopusDeploy">
<meta name="application-name" content="Octopus Deploy">
<link rel="canonical" href="https://octopus.com/docs">
<link rel="me" type="text/html" href="https://plus.google.com/102650558422902813929?rel=me">
<link rel="me" type="text/html" href="http://feeds.feedburner.com/OctopusDeploy">
<link rel="me" type="text/html" href="https://twitter.com/OctopusDeploy">
<link rel="icon" type="image/png" href="https://octopus.com/content/resources/favicon.png">
<link rel="apple-touch-icon" href="https://octopus.com/content/resources/Octopus-96x96.png">
<link href="http://feeds.feedburner.com/OctopusDeploy" type="application/rss+xml" rel="alternate" title="Octopus Deploy Blog Feed">
<script type="text/javascript">
        !function (a, b, c, d, e, f, g) {
            a.RaygunObject = e, a[e] = a[e] || function () {
                    (a[e].o = a[e].o || []).push(arguments)
                }, f = b.createElement(c), g = b.getElementsByTagName(c)[0],
                f.async = 1, f.src = d, g.parentNode.insertBefore(f, g)
        }(window, document, "script", "//cdn.raygun.io/raygun4js/raygun.min.js", "rg4js");
    </script>
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/github.min.css" integrity="sha256-3YM6A3pH4QFCl9WbSU8oXF5N6W/2ylvW0o2g+Z6TmLQ=" crossorigin="anonymous">
<style>
        .btnCopy {
            position: absolute;
            right: 0;
            top: 0;
        }

        .copyToClipboard {
            position: relative;
        }

        @media (min-width: 1200px) {
            .container {
                max-width: 1600px;
                width: 100%;
            }
        }
    </style>
</head>
<body class="">

<script>
        window.ga = window.ga || function () { (ga.q = ga.q || []).push(arguments) }; ga.l = +new Date;
        ga('create', 'UA-24461753-1', 'auto');
        ga('send', 'pageview');
    </script>
<script async="" src="https://www.google-analytics.com/analytics.js"></script>


<script type="text/javascript">
        setTimeout(function () {
            var a = document.createElement("script");
            var b = document.getElementsByTagName("script")[0];
            a.src = document.location.protocol + "//script.crazyegg.com/pages/scripts/0021/2568.js?" + Math.floor(new Date().getTime() / 3600000);
            a.async = true; a.type = "text/javascript"; b.parentNode.insertBefore(a, b)
        }, 1);
    </script>

<div class="top-and-splash">
<div id="top">
<div id="header">
<div class="navbar navbar-fixed-top">
<div class="">
<div class="container">
<div>
<div class="navbar-header">
<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
<span class="sr-only">Toggle navigation</span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
</button>
<a id="logo" class="navbar-brand" href="/">Octopus Deploy</a>
</div>
<div id="nav-main" class="navbar-collapse collapse">
<div>
<ul class="nav navbar-nav navbar-right">
<li class="">
<a href="/#features">
Features
</a>
</li>
<li class="">
<a href="/downloads">
Downloads
</a>
</li>
<li class="">
<a href="/company/about">
Company
</a>
</li>
<li class="active">
<a href="/docs">
Docs
</a>
</li>
<li class="">
<a href="/support">
Support
</a>
</li>
<li class="">
<a href="/purchase">
Pricing
</a>
</li>
<li class="">
<a href="/blog">Blog</a>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="middle">
<div id="main">
<div class="stripe stripe-blue">
<div class="container">
<span class="page-title">Octopus Deploy Documentation</span>
</div>
</div>
<div style="padding-left: 16px;" class="stripe stripe-white">
<div class="container">
<div class="row">
<div class="col-md-9">
<div id="doc_content" class="main-content"><h1>Troubleshooting Active Directory integration</h1><p>It's very common for companies to integrate Octopus with Active Directory to manage their users and teams.  Active Directory is very flexible and can have fairly complex configurations so we've put together this troubleshooting guide to help people troubleshoot and resolve authentication issues.</p>
<div class="alert alert-info"><p>This information is provided as a guide to help teams troubleshoot Octopus authentication issues with Active Directory. This combined with a strong working knowledge of your own infrastructure and some perseverance should help resolve most issues.</p>
</div>
<ul>
<li>Configuring Active Directory users</li>
<li>Verifying configuration values</li>
<li>Logging</li>
<li>Read-Only Domain Controllers are not supported</li>
<li>Run as a different user not working</li>
</ul>
<p>Octopus integrates with Active Directory to authenticate users as well as authorize what actions they can perform.  Our <a href="/docs/v/3.11/administration/authentication-providers/active-directory-authentication">Active Directory authentication</a> page provides more information on how to set up Octopus to work with Active Directory as well as some details on how it's technically implemented.  Essentially, Octopus interacts with active directory in two ways:</p>
<ol>
<li>First, we authenticate a users's credentials are valid by invoking the Windows API <code>LogonUser()</code> function.</li>
<li>If that is successful, Octopus will then query Active Directory for information about the user.  In this second interaction, we retrieve the groups a user is a member of and use that to determine what teams they belong to etc.</li>
</ol>
<div class="alert alert-info"><p><strong>Teams are not Distribution Groups</strong><br />
Whilst you might have a team that you would think maps to a Distribution Group, this does not mean that <a href="/docs/v/3.11/administration/subscriptions" class="alert-link">subscriptions</a> will send emails to the DG email address configured in Active Directory. Teams in Octopus are more synonymous with Security Groups and are used to determine accessibility. To send subscription emails to a Distribution Group email address will require setting up a user with that email address, and assigning them to the appropriate Octopus team.</p>
</div>
<h2 id="TroubleshootingActiveDirectoryintegration-ConfiguringActiveDirectoryusers">Configuring Active Directory users</h2>
<p>Octopus relies on Active Directory users being configured with enough information to distinguish them. We recommend making sure each Active Directory user you want to use with Octopus has been configured with:</p>
<ol>
<li>samAccountName (pre-Windows 2000 Logon Name)</li>
<li>UPN (User Principal Name)</li>
<li>Email Address</li>
</ol>
<p><a href='#' data-featherlight='/docs/images/5669864/5866202.png' class='zoom' data-title=''><img src='/docs/images/5669864/5866202.png' class="img-fluid center" height="auto" width="500" alt='' /></a></p>
<p><a href='#' data-featherlight='/docs/images/5669864/5866203.png' class='zoom' data-title=''><img src='/docs/images/5669864/5866203.png' class="img-fluid center" height="auto" width="500" alt='' /></a></p>
<p>These values can be used by Octopus to uniquely identify which Octopus User Account should be associated with each Active Directory User.</p>
<h2 id="TroubleshootingActiveDirectoryintegration-Verifyingconfigurationvalues">Verifying configuration values</h2>
<p>Most errors we've seen are due to a lack of permissions or various active directory configuration issues.  Additionally, the errors are generally found when trying to retrieve a user's groups.  The following are some examples.</p>
<ul>
<li><code>System.Runtime.InteropServices.COMException (0x8007054B): The specified domain either does not exist or could not be contacted.</code></li>
<li><code>System.DirectoryServices.ActiveDirectory.ActiveDirectoryServerDownException: The server is not operational.</code></li>
</ul>
<p>The best way we've found to troubleshoot Active Directory issues is by running the PowerShell script below.  This script duplicates the exact logic we use to retrieve a user's groups from Active Directory.  The benefit of this script is that you can try different settings and get immediate feedback whereas it's much slower and disruptive to do the same with the Octopus Server service.</p>
<pre><code class="language-powershell">[System.Reflection.Assembly]::LoadWithPartialName(&quot;System.DirectoryServices.AccountManagement&quot;)
[System.Reflection.Assembly]::LoadWithPartialName(&quot;System.DirectoryServices&quot;)
[System.Reflection.Assembly]::LoadWithPartialName(&quot;System.DirectoryServices.ActiveDirectory&quot;)
$principalContext = new-object -TypeName System.DirectoryServices.AccountManagement.PrincipalContext &quot;Domain&quot;, &quot;acme.local&quot;, &quot;CN=Users, DC=acme, DC=local&quot;
$principal = [System.DirectoryServices.AccountManagement.UserPrincipal]::FindByIdentity($principalContext, &quot;ExampleUser&quot;)
# Get Authorized Users Groups. This reads inherited groups but fails in some situations based on security and configuration
$groups = $principal.GetAuthorizationGroups()
Write-Output $groups
# Try Number two. Reads just the groups they are a member of - more reliable but not ideal
$groups = $principal.GetGroups()
Write-Output $groups
$principalContext.Dispose()
</code></pre>
<p>Notes:</p>
<ul>
<li>Ensure you replace the domain name <code>acme.local</code> with the appropriate value for you network.</li>
<li>Ensure you replace the active directory container string <code>CN=Users, DC=acme, DC=local</code> with the appropriate value for your network. If you're not sure of this value, we'd suggest talking to your network team (active directory expert) or trying different values and testing it w/ the script. For additional help on building/finding your container string, this StackOverflow answer is excellent. <a href="http://serverfault.com/a/130556" rel="nofollow">http://serverfault.com/a/130556</a></li>
<li>Ensure you replace the domain user name <code>ExampleUser</code> with a sample Octopus username who would normally log into the system.</li>
<li>It's recommended that you run this script as the same user you're running the Octopus service under and on the same server so it reproduces the problem accurately.</li>
</ul>
<p>Similarly, the following script duplicates the logic we use to search for groups (when you're trying to find one to add to a Team).</p>
<pre><code class="language-powershell">[System.Reflection.Assembly]::LoadWithPartialName(&quot;System.DirectoryServices.AccountManagement&quot;)
[System.Reflection.Assembly]::LoadWithPartialName(&quot;System.DirectoryServices&quot;)
[System.Reflection.Assembly]::LoadWithPartialName(&quot;System.DirectoryServices.ActiveDirectory&quot;)
$principalContext = new-object -TypeName System.DirectoryServices.AccountManagement.PrincipalContext &quot;Domain&quot;, &quot;acme&quot;
$principal = new-object -TypeName  System.DirectoryServices.AccountManagement.GroupPrincipal $principalContext
$principal.Name = &quot;SomeGroup*&quot;
$searcher = new-object -TypeName  System.DirectoryServices.AccountManagement.PrincipalSearcher
$searcher.QueryFilter = $principal

$groups = $searcher.FindAll().GetEnumerator()

foreach ($group in $groups) {
    Write-Output $group
}

$principalContext.Dispose()
</code></pre>
<p>Notes:</p>
<ul>
<li>Ensure you replace the domain name <code>acme</code> with the domain to be searched on your network.  This may be the current domain or any trusted domain.</li>
<li>Ensure you replace sample partial group name <code>SomeGroup</code> with text that matches the start of a group name in the domain.</li>
<li>Per previous example script, it's recommended that you run this script as the same user you're running the Octopus service under</li>
</ul>
<div class="alert alert-info"><p>Octopus only uses Security Groups for controlling access permissions. When searching for groups to add to an Octopus team, Distribution Groups will be filtered out.</p>
</div>
<h2 id="TroubleshootingActiveDirectoryintegration-Logging">Logging</h2>
<p>If problems persist, we suggest turning on active directory diagnostic logging and then executing the PowerShell script above to test changes based on the results.  We've found the best way to get actionable details out of the logs is to set the following registry settings on the the server running active directory directory services (i.e. you relevant domain controller).</p>
<div class="alert alert-danger"><p>It's recommended that you backup any registry entries before making changes.</p>
</div>
<pre><code class="language-text">Path: HKLM\SYSTEM\CurrentControlSet\Services\NTDS\Diagnostics\15 Field Engineering
Type: DWORD
Value: 5

Path: HKLM\SYSTEM\CurrentControlSet\Services\NTDS\Parameters\Expensive Search Results Threshold
Type: DWORD
Value: 1
</code></pre>
<p>Full credit to this StackOverflow answer for the tip.  <a href="http://serverfault.com/a/454362" rel="nofollow">http://serverfault.com/a/454362</a></p>
<p>For more information on diagnostic logging, see the following Microsoft TechNet article.  Note that we're setting the 'Field Engineering' registry entry mentioned in this article. <a href="https://technet.microsoft.com/en-us/library/cc961809.aspx" rel="nofollow">https://technet.microsoft.com/en-us/library/cc961809.aspx</a></p>
<p>The diagnostic logs can be viewed in the Event Viewer.</p>
<p><a href='#' data-featherlight='/docs/images/5669864/5865632.png' class='zoom' data-title=''><img src='/docs/images/5669864/5865632.png' class="img-fluid center" height="auto" width="500" alt='' /></a></p>
<div class="alert alert-info"><p>Remember to reset the registry values once you're finished troubleshooting.</p>
</div>
<h2 id="TroubleshootingActiveDirectoryintegration-Read-OnlyDomainControllersarenotsupported">Read-Only Domain Controllers are not supported</h2>
<p>Read-only Domain Controllers are not currently supported by Octopus. The .NET API we're using ignores read-only DCs.</p>
<p>If there are any development teams willing to investigate RODCs further, our <a href="https://github.com/OctopusDeploy/DirectoryServicesAuthenticationProvider" rel="nofollow">AD/Directory Services authentication provider</a> is open source (if you are using Octopus 3.5+), so please feel free to checkout the current implementation if you wish to &quot;roll your own&quot; AD provider that includes support for RODCs and share with the Octopus community. ​:smiley:​</p>
<h2 id="TroubleshootingActiveDirectoryintegration-Runasadifferentusernotworking">Run as a different user not working</h2>
<p>If you are signed into your Windows AD account and wish to sign in as a different AD user to Octopus, you need to do so via forms-based authentication and login with a fully qualified domain username (<em>eg. domain\user</em>). You <strong>cannot</strong> right-click and launch your browser as a different AD user.</p>
<p>If forms-based authentication has previously been disabled, you may re-enable it again by running the following command:</p>
<pre><code class="language-powershell">Octopus.Server.exe service --stop
Octopus.Server.exe configure --allowFormsAuthenticationForDomainUsers=true
Octopus.Server.exe service --start
</code></pre>
<h2 id="domain-groups-not-loading-across-multiple-domains">Domain Groups not loading across multiple domains</h2>
<p>In scenarios where you have to cross domain boundaries, issues can easily arise due to service account permissions.  One such issue can occur when you have users who are members of groups from multiple domains.  In this scenario, you may find that Octopus can only determine the groups in the same domain as the user itself and as such the user won't be treated as though they are in all of the correct teams.</p>
<p>The cause of this relates to the permissions for the user the Octopus Deploy server is running as.  Specifically, it is missing the &quot;Read member of&quot; permission in the domain(s) of the groups it isn't able to retrieve.  This can include the domain the service account itself is in (e.g. Domain Users don't get &quot;Read member of&quot; by default).</p>
<p>To resolve this issue, open Active Directory Administrative Center for the domains in question and add the permission for the service account.  Exactly how that permission should be assigned is a design question whose answer will be specific to your environment, e.g. maybe you assign it directly to the service account, maybe you add it to a specific group containing the service account user because other users also need that permission, maybe you have a different standard pattern in your organization.</p>
</div>
</div>
<div class="col-md-3" style="padding-bottom: 100px">
<div class="panel panel-info documentation">
<div class="panel-heading">
<div class="panel-title">
<a href="/docs">Documentation</a>
<div style="margin-top: -3px; margin-bottom: 0" class="dropdown pull-right">
<button class="btn btn-info btn-xs dropdown-toggle" type="button" id="versionSelector" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
Latest
<span class="caret"></span>
</button>
<ul class="dropdown-menu" aria-labelledby="versionSelector"><li class=''><a href='/docs/administration/authentication-providers/troubleshooting-active-directory-integration'>Latest</a></li><li class=''><a href='/docs/v/3.15/administration/authentication-providers/troubleshooting-active-directory-integration'>3.15</a></li><li class=''><a href='/docs/v/3.14/administration/authentication-providers/troubleshooting-active-directory-integration'>3.14</a></li><li class=''><a href='/docs/v/3.13/administration/authentication-providers/troubleshooting-active-directory-integration'>3.13</a></li><li class=''><a href='/docs/v/3.12/administration/authentication-providers/troubleshooting-active-directory-integration'>3.12</a></li><li class='disabled'><a href='/docs/v/3.11/administration/authentication-providers/troubleshooting-active-directory-integration'>3.11</a></li><li class=''><a href='/docs/v/3.10/administration/authentication-providers/troubleshooting-active-directory-integration'>3.10</a></li><li class=''><a href='/docs/v/3.9/administration/authentication-providers/troubleshooting-active-directory-integration'>3.9</a></li><li class=''><a href='/docs/v/3.8/administration/authentication-providers/troubleshooting-active-directory-integration'>3.8</a></li><li class=''><a href='/docs/v/3.7/administration/authentication-providers/troubleshooting-active-directory-integration'>3.7</a></li><li class=''><a href='/docs/v/3.6/administration/authentication-providers/troubleshooting-active-directory-integration'>3.6</a></li></ul>
</div>
</div>
</div>
<div class="panel-body">
<form action="/search" method="get"> <div class="form-search search-only">
<i class="search-icon fa fa-search"></i>
<input id="context" name="context" type="hidden" value="docs">
<input class="form-control search-query" id="q" name="q" placeholder="Search" type="text" value/="">
</div>
</form>
<div class="sidebar">
<ul>
<li>
<a class=" " href="/docs/getting-started">Getting started</a>
</li>
<li>
<a class=" has-children" href="/docs/installation">Installation</a>
</li>
<li>
<a class=" has-children" href="/docs/key-concepts">Key Concepts</a>
</li>
<li>
<a class=" has-children" href="/docs/packaging-applications">Packaging applications</a>
</li>
<li>
<a class=" has-children" href="/docs/deployment-targets">Deployment targets</a>
</li>
<li>
<a class=" has-children" href="/docs/deploying-applications">Deploying applications</a>
</li>
<li>
<a class=" has-children" href="/docs/api-and-integration">API and Integration</a>
</li>
<li>
<a class=" has-children" href="/docs/patterns">Patterns</a>
</li>
<li>
<a class=" has-children" href="/docs/administration">Administration</a>
</li>
<li>
<a class=" has-children" href="/docs/reference">Reference</a>
</li>
<li>
<a class=" has-children" href="/docs/how-to">How to</a>
</li>
<li>
<a class=" has-children" href="/docs/guides">Guides</a>
</li>
</ul>
</div>
</div>
</div>
<div class="text-center">
<a href="https://github.com/OctopusDeploy/docs/blob/master/docs/index.md" class="tutorial" rel="nofollow">Edit this page on GitHub</a>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="bottom">
<div id="footer">
<div class="container">
<div class="row">
<div class="col-md-3">
<strong>Octopus Deploy</strong>
<p>
<a href="/company/about">Company</a>
<br>
<a href="/company/testimonials">Testimonials</a>
<br>
<a href="/company/roadmap">Roadmap</a>
<br>
<a href="/privacy">Privacy policy</a>
<br>
<a href="/company/team">Team</a>
</p>
</div>
<div class="col-md-3">
<strong><a href="/docs" style="color: inherit">Documentation</a></strong>
<p>
<a href="/docs/getting-started">
Getting started
</a>
<br>
<a href="/docs/packaging-applications">
Packaging
</a>
<br>
<a href="/docs/deploying-applications">
Deploying applications
</a>
<br>
<a href="/docs/api-and-integration">
REST API and integration
</a>
<br>
<a href="/docs/how-to">
How to
</a>
</p>
</div>
<div class="col-md-3">
<strong><a href="/support" style="color: inherit">Help &amp; Support</a></strong>
<p>
<a href="http://help.octopusdeploy.com/discussions/problems" class="external">
Problems
</a>
<br>
<a href="http://help.octopusdeploy.com/discussions/questions" class="external">
Questions
</a>
<br>
<a href="https://octopusdeploy.uservoice.com/" class="external">
Suggestions
</a>
<br>
<a href="/videos">
Videos
</a>
<br>
<a href="/company/partners">
Partners
</a>
</p>
</div>
<div class="col-md-3" style="text-align: left">
<strong>Follow us</strong>
<p>
<a href="https://twitter.com/OctopusDeploy"><i class="fa fa-fw fa-twitter" style="color: rgb(85, 172, 238);"></i> @OctopusDeploy</a><br>
<a href="https://github.com/OctopusDeploy"><i class="fa fa-fw fa-github" style="color: white"></i> OctopusDeploy</a><br>
<a href="http://www.youtube.com/c/Octopusdeploy"><i class="fa fa-fw fa-youtube-play" style="color: #D52423"></i> YouTube</a><br>
<a href="http://feeds.feedburner.com/OctopusDeploy"><i class="fa fa-fw fa-rss" style="color: orange"></i> Octopus Deploy Blog</a><br>
<a href="https://confirmsubscription.com/h/d/740FABA4D5BBCE4B"><i class="fa fa-fw fa-envelope" style="color: #7BD678"></i> Newsletter</a><br>
</p>
</div>
</div>
</div>
</div>
</div>
<script src="https://octopus.com/bundles/jquery?v=cnl66tdQfXzonUpL0zSMnDJgJiJJfXbV8tKD-S_8H_Q1"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.7.0/featherlight.min.js" integrity="sha256-zTDNEf7J+bPdCSndhy8DppFjxfRGG5BFJW5obpl0XQs=" crossorigin="anonymous"></script>
<script type="text/javascript">
        (function ($) {
            var ts;

            $("div.navbar-fixed-top").autoHidingNavbar();

            $.featherlight.defaults.closeOnClick = 'anywhere';
            $.featherlight.defaults.afterOpen = function () {
                ts = + new Date();
                $(window).on('scroll', closeFeatherlightOnScroll);
            };

            function closeFeatherlightOnScroll(event) {
                var nowTs = + new Date();

                if (ts + 500 > nowTs) {
                    return;
                }
                $.featherlight.close(event);
                $(window).off('scroll', closeFeatherlightOnScroll);
            }
        })($);
    </script>
 <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js" integrity="sha256-KbfTjB0WZ8vvXngdpJGY3Yp3xKk+tttbqClO11anCIU=" crossorigin="anonymous"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/sql.min.js" integrity="sha256-J7HuqMJTEc5SsyA8nOP0+kVUMGlQq0LrQAvAVgs1k1E=" crossorigin="anonymous"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/powershell.min.js" integrity="sha256-cRUESDACI7Yr/eSmoHs6zDQu6HmpAkCp0s4xrZ9RnE0=" crossorigin="anonymous"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/dockerfile.min.js" integrity="sha256-putofyQv7OB569xAldpyBnHJ0Uc+7VGp5Us05IgDGss=" crossorigin="anonymous"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/fsharp.min.js" integrity="sha256-EwjgDftHUX2pcHkcn19JrQPazoBiHIDivBrellTCYnA=" crossorigin="anonymous"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/anchor-js/3.2.2/anchor.min.js" integrity="sha256-WofcoLT8gToeaSmVRe28qpnlFxdBJH1n4K6Bk3YowvU=" crossorigin="anonymous"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/twemoji/2.2.3/twemoji.min.js" integrity="sha256-Y3KC8juDUsBOzJ3XtOH/sj+BAlF9AQr6pEey+4ibaJ4=" crossorigin="anonymous"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.17.1/moment.min.js" integrity="sha256-Gn7MUQono8LUxTfRA0WZzJgTua52Udm1Ifrk5421zkA=" crossorigin="anonymous"></script>
<script type="text/javascript">
        (function($) {
            $('time').each(function(i, e) {
                var time = moment($(e).attr('datetime')).fromNow();
                $(e).html(time);
            });

            hljs.initHighlightingOnLoad();

            anchors.options.placement = 'left';
            anchors.add('#doc_content > h1, #doc_content > h2, #doc_content > h3, #doc_content > h4');

            twemoji.parse(document.body,
            {
                size: '16x16',
                base: 'https://cdnjs.cloudflare.com/ajax/libs/twemoji/2.2.3/'
            });
            
            function canCopyToClipboard() {
                return window.clipboardData && window.clipboardData.setData ||
                    document.queryCommandSupported && document.queryCommandSupported("copy");
            };

            function copyToClipboard(text) {
                if (window.clipboardData && window.clipboardData.setData) {
                    $(window).trigger("copy", e);
                    return clipboardData.setData("Text", text);

                } else if (document.queryCommandSupported && document.queryCommandSupported("copy")) {
                    var textarea = document.createElement("textarea");
                    textarea.textContent = text;
                    textarea.style.position = "fixed";
                    document.body.appendChild(textarea);
                    textarea.select();
                    try {
                        return document.execCommand("copy");
                    } catch (ex) {
                        console.warn("Copy to clipboard failed.", ex);
                        return false;
                    } finally {
                        document.body.removeChild(textarea);
                    }
                }

                return false;
            };

            if (canCopyToClipboard()) {
                var copyButton =
                    $("<a title=\"Copy to clipboard\" class=\"btnCopy btn btn-default btn-xs\" href=\"#\" role=\"button\">Copy</a>");
                copyButton.click(function (e) {
                    var el = $(this).parent().next().find("code");
                    if (el) {
                        copyToClipboard(el[0].textContent);
                        $(this).attr("title", "Copied!").tooltip("fixTitle").tooltip("show")
                               .attr("title", "Copy to clipboard").tooltip("fixTitle");
                    }
                    e.stopPropagation();
                    return false;
                });

                var wrapperForButton =
                    $("<div class=\"copyToClipboard\"></div>").append(copyButton);

                $("pre").before(wrapperForButton);
                $("a.btnCopy").tooltip();
            }
        })($);
    </script>
<script type="text/javascript">
        rg4js('apiKey', 'x6kh9H0AxbqPLcjQVaOZNQ==');
        rg4js('enablePulse', true);
        rg4js('enableCrashReporting', true);
    </script>


</body>
</html>
