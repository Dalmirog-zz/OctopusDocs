<!DOCTYPE html>
<html lang="en">
<head>
<title>Getting started - Octopus Deploy</title>
<meta charset="utf-8">
<meta name="description" content="From download to deployment, this guide walks you through getting started with Octopus.">
<meta name="author" content="Octopus Deploy">
<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,400i,700" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css" integrity="sha256-NuCn4IvuZXdBaFKJOAcsU2Q3ZpwbdFisd5dux4jkQ5w=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/featherlight/1.7.0/featherlight.min.css" integrity="sha256-Bl4rr1AwUjcb8VvRrdHXqJvRRCyF7oHsgUl74ELjr7k=" crossorigin="anonymous">
<link rel="stylesheet" href="https://octopus.com/css/lib.min.css?v=kEfV6kYMfTqo5GWH8cZiJKRh0-G2z2KKepFAdIve3gc">
<link rel="stylesheet" href="https://octopus.com/css/site.min.css?v=uS8Hy-ONZoqeDUdo2owrhAUj0Zt7jsVBc4uxS3TFuCY">
<script src="https://cdn.optimizely.com/js/590800530.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta property="og:type" content="website">
<meta property="og:title" content="Getting started - Octopus Deploy">
<meta property="og:description" content="From download to deployment, this guide walks you through getting started with Octopus.">
<meta property="og:site_name" content="Octopus Deploy">
<meta property="twitter:card" content="summary">
<meta property="twitter:site" content="@OctopusDeploy">
<meta name="application-name" content="Octopus Deploy">
<link rel="canonical" href="https://octopus.com/docs/getting-started">
<link rel="me" type="text/html" href="https://plus.google.com/102650558422902813929?rel=me">
<link rel="me" type="text/html" href="http://feeds.feedburner.com/OctopusDeploy">
<link rel="me" type="text/html" href="https://twitter.com/OctopusDeploy">
<link rel="icon" type="image/png" href="https://octopus.com/images/(global)/favicon.png">
<link rel="apple-touch-icon" href="https://octopus.com/images/(global)/apple-touch-icon.png">
<link href="http://feeds.feedburner.com/OctopusDeploy" type="application/rss+xml" rel="alternate" title="Octopus Deploy Blog Feed">
<link rel="search" type="application/opensearchdescription+xml" href="https://octopus.com/search/opensearchdescription" title="Octopus Deploy">
<script type="text/javascript">
        !function(a,b,c,d,e,f,g,h){a.RaygunObject=e,a[e]=a[e]||function(){
                (a[e].o=a[e].o||[]).push(arguments)},f=b.createElement(c),g=b.getElementsByTagName(c)[0],
            f.async=1,f.src=d,g.parentNode.insertBefore(f,g),h=a.onerror,a.onerror=function(b,c,d,f,g){
                h&&h(b,c,d,f,g),g||(g=new Error(b)),a[e].q=a[e].q||[],a[e].q.push({
                    e:g})}}(window,document,"script","//cdn.raygun.io/raygun4js/raygun.min.js","rg4js");
    </script>
<link rel="stylesheet" href="https://octopus.com//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/github.min.css" integrity="sha256-3YM6A3pH4QFCl9WbSU8oXF5N6W/2ylvW0o2g+Z6TmLQ=" crossorigin="anonymous">
<style>
        .btnCopy {
            position: absolute;
            right: 0;
            top: 0;
        }

        .copyToClipboard {
            position: relative;
        }

        @media (min-width: 1200px) {
            .container {
                max-width: 1600px;
                width: 100%;
            }
        }
    </style>
</head>
<body class="">

<script>
        window.ga = window.ga || function () { (ga.q = ga.q || []).push(arguments) }; ga.l = +new Date;
        ga('create', 'UA-24461753-1', 'auto');
        ga('send', 'pageview');
    </script>
 <script async="" src="https://www.google-analytics.com/analytics.js"></script>


<script type="text/javascript">
        setTimeout(function () {
            var a = document.createElement("script");
            var b = document.getElementsByTagName("script")[0];
            a.src = document.location.protocol + "//script.crazyegg.com/pages/scripts/0021/2568.js?" + Math.floor(new Date().getTime() / 3600000);
            a.async = true; a.type = "text/javascript"; b.parentNode.insertBefore(a, b)
        }, 1);
    </script>



<script type='text/javascript'>
        (function() {
            var w = window, d = document;
            var s = d.createElement('script');
            s.setAttribute('async', 'true');
            s.setAttribute('type', 'text/javascript');
            s.setAttribute('src', '//c1.rfihub.net/js/tc.min.js');
            var f = d.getElementsByTagName('script')[0];
            f.parentNode.insertBefore(s, f);
            if (typeof w['_rfi'] !== 'function') {
                w['_rfi']=function() {
                    w['_rfi'].commands = w['_rfi'].commands || [];
                    w['_rfi'].commands.push(arguments);
                };
            }
            _rfi('setArgs', 'ver', '9');
            _rfi('setArgs', 'rb', '32733');
            _rfi('setArgs', 'ca', '20781763');
            _rfi('setArgs', '_o', '32733');
            _rfi('setArgs', '_t', '20781763');
            _rfi('track');
        })();
    </script>
<noscript>
        <iframe src='//20781763p.rfihub.com/ca.html?rb=32733&ca=20781763&_o=32733&_t=20781763&ra=YOUR_CUSTOM_CACHE_BUSTER' style='display:none;padding:0;margin:0' width='0' height='0'>
        </iframe>
    </noscript>

<nav class="navbar navbar-inverse navbar-fixed-top">
<div>
<div class="container">
<div>
<div class="navbar-header">
<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
<span class="sr-only">Toggle navigation</span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
</button>
<a id="logo" class="navbar-brand" href="/"><img src="/images/(global)/octopus-logo.svg" alt="Octopus Deploy" style="width: 30px; height: 32px;">&nbsp;<span class="hidden-sm">Octopus Deploy</span></a>
</div>
<div id="navbar" class="navbar-collapse collapse">
<div>
<ul class="nav navbar-nav navbar-right">
<li class="">
<a href="/#features">
Features
</a>
</li>
<li class="">
<a href="/downloads">
Downloads
</a>
</li>
<li class="">
<a href="/company">
Company
</a>
</li>
<li class="active">
<a href="/docs">
Docs
</a>
</li>
<li class="">
<a href="/support">
 Support
</a>
</li>
<li class="">
<a href="/purchase">
Pricing
</a>
</li>
<li class="">
<a href="/blog">Blog</a>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</nav>
<main>
<header class="stripe stripe-blue stripe-narrow">
<div class="container">
<div class="row">
<div class="col-sm-9">
<div class="like-h2">Octopus Deploy Documentation</div>
</div>
<div class="col-sm-3">
<div class="text-right">
<form method="get" action="/docs/search">
<div class="visible-xs">&nbsp;</div>
<div class="form-search search-only">
<i class="search-icon fa fa-search"></i>
<input class="form-control search-query" id="q" name="q" placeholder="Search" style="width: 100%; text-overflow: ellipsis;" type="text" value="">
</div>
</form>
</div>
</div>
</div>
</div>
</header>
<section class="stripe stripe-gray docs">
<div class="container">
<div class="row">
<div class="col-sm-9 col-sm-push-3">
<article id="doc-content" class="paper" style="padding-bottom: 100px; min-height: 1000px;"><header>
<div class="dropdown pull-right">
<button class="btn btn-success dropdown-toggle" type="button" id="versionSelector" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
Version: Latest
<span class="caret"></span>
</button>
<ul class="dropdown-menu" aria-labelledby="versionSelector"><li class=''><a href='/docs/v/4.0/api-and-integration/bamboo/bamboo-plugin'>4.0</a></li><li class=''><a href='/docs/api-and-integration/bamboo/bamboo-plugin'>Latest</a></li><li class=''><a href='/docs/v/3.16/api-and-integration/bamboo/bamboo-plugin'>3.16</a></li><li class=''><a href='/docs/v/3.15/api-and-integration/bamboo/bamboo-plugin'>3.15</a></li><li class=''><a href='/docs/v/3.14/api-and-integration/bamboo/bamboo-plugin'>3.14</a></li><li class=''><a href='/docs/v/3.13/api-and-integration/bamboo/bamboo-plugin'>3.13</a></li><li class='disabled'><a href='/docs/v/3.12/api-and-integration/bamboo/bamboo-plugin'>3.12</a></li><li class=''><a href='/docs/v/3.11/api-and-integration/bamboo/bamboo-plugin'>3.11</a></li><li class=''><a href='/docs/v/3.10/api-and-integration/bamboo/bamboo-plugin'>3.10</a></li><li class=''><a href='/docs/v/3.9/api-and-integration/bamboo/bamboo-plugin'>3.9</a></li><li class=''><a href='/docs/v/3.8/api-and-integration/bamboo/bamboo-plugin'>3.8</a></li><li class=''><a href='/docs/v/3.7/api-and-integration/bamboo/bamboo-plugin'>3.7</a></li><li class=''><a href='/docs/v/3.6/api-and-integration/bamboo/bamboo-plugin'>3.6</a></li></ul>
</div>
<h1>Bamboo</h1>
<div style="margin: 10px 0; color: #aaa" class="small">Last updated <time datetime="2017-10-24T06:45:02.7253904&#x2B;00:00">2017-10-24T06:45:02.7253904&#x2B;00:00</time></div>
</header><p>The Octopus Deploy add-on for Bamboo allows packages to be uploaded to an Octopus Deploy server, as well as creating, deploying and promoting releases to your Octopus Deploy <a href="https://octopus.com/docs/key-concepts/environments">environments</a>. The add-on does this by running the <a href="https://octopus.com/docs/api-and-integration/octo.exe-command-line">Octopus Deploy Command Line tool</a>.</p>
<h2 id="getting-started">Getting Started</h2>
<p>The plugin relies on a local copy of the Octopus Deploy Command Line tool being available to the build agent. The command line tool can be downloaded from the <a href="https://octopus.com/docs/api-and-integration/octo.exe-command-line">Octopus Deploy Download</a> page.</p>
<p>Note that while the command line tool package is largely self contained, some Linux distributions require additional libraries to be installed before .NET Core applications will run. These packages are documented at the <a href="https://www.microsoft.com/net/core" rel="nofollow">Get started with .NET Core</a> website.</p>
<p>To verify that the command line tool can be run, execute it from a terminal. When run with no arguments, the <code>Octo</code> executable will display a list of available commands.</p>
<h2 id="installing-the-add-on">Installing the Add-on</h2>
<p>Follow the instructions at <a href="https://confluence.atlassian.com/display/UPM/Installing+add-ons" rel="nofollow">Installing add-ons</a> to install the Octopus Deploy Bamboo add-on.</p>
<h2 id="a-typical-workflow-for-pushing-packages-and-deploying-releases">A Typical Workflow for Pushing Packages and Deploying Releases</h2>
<p>There are a number of typical steps that are required to push a package to Octopus Deploy and deploy a release:</p>
<ol>
<li>Build the application with Bamboo.</li>
<li>Create a package that contains the application files.</li>
<li>Push the package to Octopus Deploy.</li>
<li>Create a release in Octopus Deploy.</li>
<li>Deploy a release with Octopus Deploy.</li>
</ol>
<h3 id="build-the-application">1. Build the Application</h3>
<p>We'll assume that there is already a Bamboo build plan in place that successfully builds an application.</p>
<h3 id="create-the-package">2. Create the Package</h3>
<p>With the application built, we need to add it to an archive that complies with the Octopus Deploy <a href="https://octopus.com/docs/packaging-applications/versioning-in-octopus-deploy">versioning requirements</a>. In this example we will stick to a simple <code>AppName.Major.Minor.Patch</code> semver format.</p>
<p>Creating the package is done with the <code>Octopus Deploy: Pack Packages</code> task. In addition to the <a href="#commonConfiguration">common configuration fields</a>, this task requires the name of the package, the type of package to create, the version number of the package, the base folder containing the files to be packaged, paths to be included in the package, and enabling any existing package files to be overwritten.</p>
<p>This steps runs the <a href="https://octopus.com/docs/packaging-applications/nuget-packages/using-octo.exe">pack command</a> on the command line tool.</p>
<div class="alert alert-info"><p>If you are building .NET applications on an instance of Bamboo hosted on Windows, you may prefer to use <a href="https://octopus.com/docs/packaging-applications/nuget-packages/using-octopack" class="alert-link">OctoPack</a> to build a package instead of manually packaging the application with the <code>Octopus Deploy: Pack Packages</code> task.</p>
</div>
<h4 id="package-id">Package ID</h4>
<p>The <code>Package ID</code> field defines the name or ID of the package to be created. In this example we will use the ID <code>myapplication</code>.</p>
<h4 id="version-number">Version number</h4>
<p>The <code>Version number</code> fields defines the version of the package to create. This field is optional, but it is highly recommended that the version be generated from the Bamboo build number. We will set the version to <code>0.0.${bamboo.buildNumber}</code>.</p>
<h4 id="package-format">Package format</h4>
<p>The <code>Package format</code> options allow you to build either a ZIP or a NUGET file. ZIP is the recommended format.</p>
<h4 id="package-base-folder">Package base folder</h4>
<p>The <code>Package base folder</code> option defines the base folder that contains the files that are to be packed up.</p>
<p>For a Java application built by Maven, the files will typically be found under the folder <code>${bamboo.build.working.directory}/target</code>.</p>
<p>For a Java application built by Gradle, the files will typically be found under the folder <code>${bamboo.build.working.directory}/build/libs</code>.</p>
<p>For a .NET application the files will typically be found under a folder like <code>${bamboo.build.working.directory}/myapplication/bin/Release/netcoreapp1.1</code>.</p>
<h4 id="package-include-paths">Package include paths</h4>
<p>The <code>Package include paths</code> field lists the files that are to be packed into the package.</p>
<p>For a Java web application you would typically pack the WAR file, which can be included with the path <code>*.war</code>.</p>
<p>For .NET applications you would typically be packing all application files like executables, config files and DLLs so leave this blank unless you wish to specify a specific set of files.</p>
<h4 id="overwrite-existing-package">Overwrite existing package</h4>
<p>Selecting the <code>Overwrite existing package</code> option means that any existing local packages will be overwritten. It is useful to select this option because it means that packages can be repacked without error if the Bamboo build plan is rerun.</p>
<p><a href='#' data-featherlight='/docs/api-and-integration/bamboo/create-package.png' class='zoom' data-title=''><img src='/docs/api-and-integration/bamboo/create-package.png' class="img-fluid center" alt='Create a package' /></a></p>
<h3 id="push-the-packages">3. Push the Packages</h3>
<p>Pushing the package to Octopus Deploy is done with the <code>Octopus Deploy: Push Packages</code> task. In addition to the <a href="#commonConfiguration">common configuration fields</a>, this task requires the paths to the packages to be pushed and forcing package uploads.</p>
<p>This step runs the <a href="https://octopus.com/docs/api-and-integration/octo.exe-command-line/pushing-packages">push command</a> on the command line tool.</p>
<h4 id="package-paths">Package paths</h4>
<p>The <code>Package paths</code> field defines the <a href="https://ant.apache.org/manual/dirtasks.html" rel="nofollow">Ant paths</a> that are used to match packages to be pushed to Octopus Deploy. The Ant path <code>**/*${bamboo.buildNumber}.zip</code> mathes the zip file created with during the previous step.</p>
<div class="alert alert-info"><p>Note that it is recommended that the package paths defined here are specific to the build. While the Ant path <code>**/*.zip</code> does match the package, it also match any old packages that might have been created in previous builds and not cleaned up. This means these less specific paths can result in old packages being uploaded, which is usually not the desired result.</p>
</div>
<h4 id="force-overwrite-existing-packages">Force overwrite existing packages</h4>
<p>The <code>Force overwrite existing packages</code> option can be selected to allow existing packages to be overwritten.</p>
<p>Tick this option, as it allows a build to be rebuilt and the new package to be pushed again without error.</p>
<p><a href='#' data-featherlight='/docs/api-and-integration/bamboo/push-package.png' class='zoom' data-title=''><img src='/docs/api-and-integration/bamboo/push-package.png' class="img-fluid center" alt='Push Package' /></a></p>
<h3 id="create-a-release">4. Create a Release</h3>
<p>Creating a release is done with the <code>Octopus Deploy: Create Release</code> task. In addition to the <a href="#commonConfiguration">common configuration fields</a>, this task requires the Octopus Deploy project to create the release for and the version number of the release.</p>
<p>This steps runs the <a href="https://octopus.com/docs/api-and-integration/octo.exe-command-line/creating-releases">create-release command</a> on the command line tool.</p>
<h4 id="project">Project</h4>
<p>The <code>Project</code> field defines the name of the <a href="https://octopus.com/docs/key-concepts#KeyConcepts-Projects,deploymentprocesses,lifecyclesandvariables">Octopus Deploy project</a> that the release will be created for.</p>
<h4 id="release-number">Release number</h4>
<p>The <code>Release Number</code> field defines the version number for the release.</p>
<p>Although this field is optional, it is highly recommended that the release number be tied to the Bamboo build number e.g. <code>0.0.${bamboo.buildNumber}</code>. The reason for this is Bamboo allows you to rebuild old builds, and if the <code>Release number</code> is not defined it will be assigned a default version number in Octopus Deploy. This can lead to a situation where build number 10 in Bamboo is rebuilt, and release number like 0.0.128 is created in Octopus Deploy, which is almost certainly not the desired result.</p>
<h4 id="environments">Environment(s)</h4>
<p>The <code>Environment(s)</code> field defines the <a href="https://octopus.com/docs/key-concepts#KeyConcepts-Environments,machinesandroles">Octopus Deploy environments</a> that the new release is to be deployed to.</p>
<p>It is recommended that this field be left blank, because the <code>Ignore existing releases</code> option needs to be enabled to allow builds to be rebuilt,
and if the environment already exists and the <code>Ignore existing releases</code> option is enabled no deployments will take place. We'll use a dedicated
step to handle deployments.</p>
<h4 id="ignore-existing-releases">Ignore existing releases</h4>
<p>The <code>Ignore existing releases</code> option can be selected to skip the create release step if the release version already exists.</p>
<p>Tick this option, as it allows builds to be rebuilt. Otherwise rebuilds will attempt to recreate an existing environment and the step will fail.</p>
<p><a href='#' data-featherlight='/docs/api-and-integration/bamboo/create-release.png' class='zoom' data-title=''><img src='/docs/api-and-integration/bamboo/create-release.png' class="img-fluid center" alt='Create Release' /></a></p>
<h3 id="deploy-a-release">5. Deploy a Release</h3>
<p>Releases can be deployed with the <code>Octopus Deploy: Deploy Release</code> task. In addition to the <a href="#commonConfiguration">common configuration fields</a>, this task requires the Octopus Deploy project to deploy, the environments to deploy to, and the release number to deploy.</p>
<p>This steps runs the <a href="https://octopus.com/docs/api-and-integration/octo.exe-command-line/deploying-releases">deploy-release command</a> on the command line tool.</p>
<h4 id="project-1">Project</h4>
<p>The <code>Project</code> field defines the name of the <a href="https://octopus.com/docs/key-concepts#KeyConcepts-Projects,deploymentprocesses,lifecyclesandvariables">Octopus Deploy project</a> that the deployment will be done for.</p>
<h4 id="environments-1">Environment(s)</h4>
<p>The <code>Environment(s)</code> field defines the <a href="https://octopus.com/docs/key-concepts#KeyConcepts-Environments,machinesandroles">Octopus Deploy environments</a> that the release is to be deployed to.</p>
<h4 id="release-number-1">Release number</h4>
<p>The <code>Release Number</code> field defines the release version number to deploy. This should match the release number from the create release step i.e. <code>0.0.${bamboo.buildNumber}</code>.</p>
<p><a href='#' data-featherlight='/docs/api-and-integration/bamboo/deploy-release.png' class='zoom' data-title=''><img src='/docs/api-and-integration/bamboo/deploy-release.png' class="img-fluid center" alt='Deploy Release' /></a></p>
<h3 id="optional-and-not-recommended-promote-a-release">(Optional, and not recommended) Promote a Release</h3>
<p>Releases can be promoted to new environments with the <code>Octopus Deploy: Promote Release</code> task. In addition to the <a href="#commonConfiguration">common configuration fields</a>, this task requires the Octopus Deploy project to deploy, the environment to promote from, and the environment to promote to.</p>
<p>This steps runs the <a href="https://octopus.com/docs/api-and-integration/octo.exe-command-line/promoting-releases">promote-release command</a> on the command line tool.</p>
<div class="alert alert-warning"><p>Because the promotion from one environment to another is not tied to any particular release number, adding this task to a Bamboo build plan means every time the plan is run (or more importantly rerun), releases will be promoted between environments. This is almost certainly not the desired result, and so it is not recommended that promotions be done as part of a Bamboo build plan.</p>
</div>
<h4 id="project-2">Project</h4>
<p>The <code>Project</code> field defines the name of the <a href="https://octopus.com/docs/key-concepts#KeyConcepts-Projects,deploymentprocesses,lifecyclesandvariables">Octopus Deploy project</a> that the deployment will be done for.</p>
<h4 id="promote-from">Promote from</h4>
<p>This <code>Promote from</code> field defines the environment whose release will be promoted to the <code>Promote to</code> environment.</p>
<h4 id="promote-to">Promote to</h4>
<p>This <code>Promote to</code> field defines the environment whose release will be promoted from the <code>Promote from</code> environment.</p>
<p><a name="commonConfiguration"></a></p>
<h3 id="common-configuration">Common Configuration</h3>
<p>All of the Octopus Deploy tasks share a number of common configuration fields.</p>
<h4 id="octopus-url">Octopus URL</h4>
<p>The <code>Octopus URL</code> field defines the URL of the Octopus Deploy server that the package will be pushed to. This URL must include the scheme <code>http:\\</code> or <code>https:\\</code>, and also include the port if it is not the default of <code>80</code> or <code>443</code>.</p>
<h4 id="api-key">API key</h4>
<p>The <code>API key</code> field defines the API key that is used to authenticate with the Octopus Deploy server. See <a href="https://octopus.com/docs/how-to/how-to-create-an-api-key">How to create an API key</a> for more information.</p>
<h4 id="octopus-cli">Octopus CLI</h4>
<p>The <code>Octopus CLI</code> field references a <a href="https://confluence.atlassian.com/bamboo/capability-289277445.html" rel="nofollow">Bamboo capability</a> that defines the path to the Octopus Deploy Command Line tool.</p>
<p>Click the <code>Add new executable</code> link to specify the location of the command line tool. The <code>Executable label</code> can be anything you want, and the <code>Path</code> is the full path to the command line tool executable file.</p>
<p><a href='#' data-featherlight='/docs/api-and-integration/bamboo/executable.png' class='zoom' data-title=''><img src='/docs/api-and-integration/bamboo/executable.png' class="img-fluid center" alt='Add new executable' /></a></p>
<h4 id="enable-debug-logging">Enable debug logging</h4>
<p>The <code>Enable debug logging</code> option is used to enable detailed logging from the command line tool.</p>
<h4 id="additional-command-line-arguments">Additional command line arguments</h4>
<p>The <code>Additional command line arguments</code> field is used to specify additional arguments to pass to the command line tool.
You can find more information on the arguments accepted by the command line tool at the
<a href="https://octopus.com/docs/api-and-integration/octo.exe-command-line">Octo.exe Command Line</a> page.</p>
<h2 id="using-bamboo-deployment-plans">Using Bamboo Deployment Plans</h2>
<p>The Octopus Deploy add-on tasks can be used either in Bamboo build or deployment plans. Where you use these tasks is up to you.</p>
<p>If you already have a number of environments set up in Bamboo, it may make sense to create and deploy Octopus Deploy releases from the Bamboo deployment plan. Doing so allows you to retain the familiar Bamboo build and deployment workflow, while having Octopus Deploy do the actual deployment.</p>
<p>The recommended task sequence for a deployment project in Bamboo is this:</p>
<ol>
<li>A <code>Octopus Deploy: Push Packages</code> task in the Bamboo build plan with a package version number linked to the Bamboo build number and the <code>Force overwrite existing packages</code> selected.</li>
<li>A <code>Octopus Deploy: Create Release</code> task in the Bamboo deployment plan with a <code>Release number</code> linked to the Bamboo build number, the <code>Ignore existing releases</code> option selected, and no <code>Environments(s)</code> set to deploy to.</li>
<li>A <code>Octopus Deploy: Deploy Release</code> task in the Bamboo deployment plan with a <code>Release number</code> linked to the Bamboo build number.</li>
</ol>
<p>These steps will allow packages to be pushed and repushed, and new releases to be created, deployed and rolled back to previous releases.</p>
<h2 id="troubleshooting">Troubleshooting</h2>
<h3 id="unexpected-behavior-in-deployment-plans">Unexpected Behavior in Deployment Plans</h3>
<p>There are some issues to keep in mind when using the Octopus Deploy add-on tasks from a Bamboo deployment project.</p>
<p>The first issue is that the <code>Octopus Deploy: Create Release</code> task is only suitable for creating and optionally deploying new releases, not rolling back to previous releases. Consider these following scenarios:</p>
<ol>
<li>The create release task is defined with no release number. Each time it is run, or rerun via a rollback initiated via the Bamboo deployment project, this task will create a new release in Octopus Deploy. This is not appropriate behavior for a Bamboo deployment project.</li>
<li>The create release task is defined with a fixed release number related to the Bamboo build. To allow this task to be rerun without error, the <code>Ignore existing releases</code> option needs to be selected. When <code>Ignore existing releases</code> is selected, the create release task is essentially skipped during a rerun, meaning no deployment is done. This is not the expected behavior of a rollback initiated via the Bamboo deployment project.</li>
</ol>
<p>The second issue is that the <code>Octopus Deploy: Promote Release</code> task may not work as you expect when used with a Bamboo deployment plan. Because the promotion from one environment to another is not dependent on any release versions, every time this step is run it will attempt to promote a release forward in Octopus Deploy, even if the task was run as part of a rollback.</p>
<p>For this reason it is recommended that the promote release task not be used as part of either a Bamboo build or deployment plan.</p>
<h3 id="octopus-command-line-tool-failed-to-run-in-linux">Octopus Command Line Tool Failed to Run in Linux</h3>
<p>The Octopus Command Line tool packages for Linux are relatively self contained, but depending on your Linux distribution you may need to install some additional dependencies for the command line tool to run.</p>
<p>For example, in Centos 7 you might see this error:</p>
<pre><code>Failed to load /tmp/libcoreclr.so, error: libunwind.so.8: cannot open shared object file: No such file or directory
Failed to bind to CoreCLR at '/tmp/libcoreclr.so'
</code></pre>
<p>The solution is to install the packages detailed at the <a href="https://www.microsoft.com/net/core" rel="nofollow">Get started with .NET Core</a> website.</p>
<pre><code>sudo yum install libunwind libicu
</code></pre>
<h3 id="manually-running-the-command-line-tool">Manually Running the Command Line Tool</h3>
<p>The Bamboo build logs show how the command line tool is run. Look for log messages like this:</p>
<pre><code>running command line: \n/opt/octocli/Octo push --server http://localhost --apiKey API-....................QGWUHKO --replace-existing --debug --package /opt/atlassian-bamboo-6.0.0/xml-data/build-dir/BPT-TBD-JOB1/myapplication.0.0.5.tar.gz
</code></pre>
<p>This is the command that was run to perform the actual interaction with the Octopus Deploy server, with the exception of the
redacted API key. You can take this command and run it manually to help diagnose any issues.</p>
<h3 id="bamboo-variables">Bamboo Variables</h3>
<p>A number of the Bamboo step fields in this document have used Bamboo variables to reference build numbers and local paths.</p>
<p>You can find a list of variables exposed by Bamboo at the <a href="https://confluence.atlassian.com/bamboo/bamboo-variables-289277087.html" rel="nofollow">Bamboo Variables</a> page.</p>
<h2 id="error-codes">Error Codes</h2>
<p>Error conditions encountered by the add-on have unique error codes, which are listed here.</p>
<table class="table">
<thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>OCTOPUS-BAMBOO-INPUT-ERROR-0001</td>
<td>No matching files could be found to push to Octopus Deploy. Check that the file pattern matches a file in the Bamboo working directory.</td>
</tr>
<tr>
<td>OCTOPUS-BAMBOO-INPUT-ERROR-0002</td>
<td>A required field was empty.</td>
</tr>
<tr>
<td>OCTOPUS-BAMBOO-INPUT-ERROR-0003</td>
<td>The server capability that defines the path to the Octopus CLI has an incorrect path. Make sure The path you assigned to the Octopus CLI is correct.</td>
</tr>
</tbody>
</table>
</article>
</div>
<div class="col-sm-3 col-sm-pull-9" style="padding-bottom: 100px;">
<aside class="documentation">
<div class="sidebar">
<ul>
<li class="active expanded ">
<a href="/docs/getting-started">
Getting started
</a>
</li>
<li class="  has-children">
<a href="/docs/installation">
Installation
</a>
</li>
<li class="  has-children">
<a href="/docs/key-concepts">
Key Concepts
</a>
</li>
<li class="  has-children">
<a href="/docs/packaging-applications">
Packaging applications
</a>
</li>
<li class="  has-children">
<a href="/docs/deployment-targets">
Deployment targets
</a>
</li>
<li class="  has-children">
<a href="/docs/deploying-applications">
Deploying applications
</a>
</li>
<li class="  has-children">
<a href="/docs/api-and-integration">
API and Integration
</a>
</li>
<li class="  has-children">
<a href="/docs/patterns">
Patterns
</a>
</li>
<li class="  has-children">
<a href="/docs/administration">
Administration
</a>
</li>
<li class="  has-children">
<a href="/docs/reference">
Reference
</a>
</li>
<li class="  has-children">
<a href="/docs/how-to">
How to
</a>
</li>
<li class="  has-children">
<a href="/docs/guides">
Guides
</a>
</li>
</ul>
</div>
</aside>
<div>
<a href="https://github.com/OctopusDeploy/docs/blob/master/docs/getting-started.md" class="small" style="color: #888; margin-left: 30px;" rel="nofollow">Edit this page on GitHub</a>
</div>
</div>
</div>
</div>
</section>
</main>
<footer class="stripe stripe-dark" id="footer">
<div class="container">
<div class="row">
<div class="col-md-3">
<strong>Octopus Deploy</strong>
<p>
<a href="/company/about">Company</a>
<br>
<a href="/company/roadmap">Roadmap</a>
<br>
<a href="/blog">Blog</a>
<br>
<a href="/privacy">Privacy policy</a>
</p>
</div>
<div class="col-md-3">
<strong><a href="/docs" style="color: inherit">Documentation</a></strong>
<p>
<a href="/docs/getting-started">
Getting started
</a>
<br>
<a href="/docs/packaging-applications">
Packaging
</a>
<br>
<a href="/docs/deploying-applications">
Deploying applications
</a>
<br>
<a href="/docs/api-and-integration">
REST API and integration
</a>
</p>
</div>
<div class="col-md-3">
<strong><a href="/support" style="color: inherit">Help &amp; Support</a></strong>
<p>
<a href="http://help.octopusdeploy.com/discussions/problems" class="external">
Problems
</a>
<br>
<a href="https://octopusdeploy.uservoice.com/" class="external">
Suggestions
</a>
<br>
<a href="/videos">
Videos
</a>
<br>
<a href="/company/partners">
Partners
</a>
</p>
</div>
<div class="col-md-3" style="text-align: left">
<strong>Follow us</strong>
<p>
<a href="https://twitter.com/OctopusDeploy"><i class="fa fa-fw fa-twitter" style='color: rgb(85, 172, 238);'></i> @OctopusDeploy</a><br>
<a href="https://github.com/OctopusDeploy"><i class="fa fa-fw fa-github" style='color: white'></i> OctopusDeploy</a><br>
<a href="http://www.youtube.com/c/Octopusdeploy"><i class="fa fa-fw fa-youtube-play" style='color: #D52423'></i> YouTube</a><br>
<a href="https://confirmsubscription.com/h/d/740FABA4D5BBCE4B"><i class="fa fa-fw fa-envelope" style='color: #7BD678'></i> Newsletter</a><br>
</p>
</div>
</div>
</div>
</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>
<script src="/js/lib.min.js?v=H7vT1bydGbJ--2dVXM72f6mvrmccXO1_ZngVo1ljMow"></script>
<script src="/js/site.min.js?v=BbAxgvM4cAEWAnX6fUFBDmgll4Ezt--tMgEDROsJQzU"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js" integrity="sha256-KbfTjB0WZ8vvXngdpJGY3Yp3xKk+tttbqClO11anCIU=" crossorigin="anonymous"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/sql.min.js" integrity="sha256-J7HuqMJTEc5SsyA8nOP0+kVUMGlQq0LrQAvAVgs1k1E=" crossorigin="anonymous"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/powershell.min.js" integrity="sha256-cRUESDACI7Yr/eSmoHs6zDQu6HmpAkCp0s4xrZ9RnE0=" crossorigin="anonymous"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/dockerfile.min.js" integrity="sha256-putofyQv7OB569xAldpyBnHJ0Uc+7VGp5Us05IgDGss=" crossorigin="anonymous"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/fsharp.min.js" integrity="sha256-EwjgDftHUX2pcHkcn19JrQPazoBiHIDivBrellTCYnA=" crossorigin="anonymous"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/anchor-js/3.2.2/anchor.min.js" integrity="sha256-WofcoLT8gToeaSmVRe28qpnlFxdBJH1n4K6Bk3YowvU=" crossorigin="anonymous"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/twemoji/2.2.3/twemoji.min.js" integrity="sha256-Y3KC8juDUsBOzJ3XtOH/sj+BAlF9AQr6pEey+4ibaJ4=" crossorigin="anonymous"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.17.1/moment.min.js" integrity="sha256-Gn7MUQono8LUxTfRA0WZzJgTua52Udm1Ifrk5421zkA=" crossorigin="anonymous"></script>
<script type="text/javascript">
        (function($) {
            $('time').each(function(i, e) {
                var time = moment($(e).attr('datetime')).fromNow();
                $(e).html(time);
            });

            hljs.initHighlightingOnLoad();

            anchors.options.placement = 'left';
            anchors.add('#doc-content > h1, #doc-content > h2, #doc-content > h3, #doc-content > h4');

            twemoji.parse(document.body,
            {
                size: '16x16',
                base: 'https://cdnjs.cloudflare.com/ajax/libs/twemoji/2.2.3/'
            });
            
            function canCopyToClipboard() {
                return window.clipboardData && window.clipboardData.setData ||
                    document.queryCommandSupported && document.queryCommandSupported("copy");
            };

            function copyToClipboard(text) {
                if (window.clipboardData && window.clipboardData.setData) {
                    $(window).trigger("copy", e);
                    return clipboardData.setData("Text", text);

                } else if (document.queryCommandSupported && document.queryCommandSupported("copy")) {
                    var textarea = document.createElement("textarea");
                    textarea.textContent = text;
                    textarea.style.position = "fixed";
                    document.body.appendChild(textarea);
                    textarea.select();
                    try {
                        return document.execCommand("copy");
                    } catch (ex) {
                        console.warn("Copy to clipboard failed.", ex);
                        return false;
                    } finally {
                        document.body.removeChild(textarea);
                    }
                }

                return false;
            };

            if (canCopyToClipboard()) {
                var copyButton =
                    $("<a title=\"Copy to clipboard\" class=\"btnCopy btn btn-default btn-xs\" href=\"#\" role=\"button\">Copy</a>");
                copyButton.click(function (e) {
                    var el = $(this).parent().next().find("code");
                    if (el) {
                        copyToClipboard(el[0].textContent);
                        $(this).attr("title", "Copied!").tooltip("fixTitle").tooltip("show")
                               .attr("title", "Copy to clipboard").tooltip("fixTitle");
                    }
                    e.stopPropagation();
                    return false;
                });

                var wrapperForButton =
                    $("<div class=\"copyToClipboard\"></div>").append(copyButton);

                $("pre").before(wrapperForButton);
                $("a.btnCopy").tooltip();
            }
        })($);
    </script>
<script type="text/javascript">
        $(function () { 
            var $feedback = $("#docs-feedback");
            var $initialView = $(".initial-view", $feedback);
            var $yesView = $(".yes-view", $feedback);
            var $feedbackView = $(".feedback-view", $feedback);
            var $confirmationView = $(".confirmation-view", $feedback);

            $yesView.hide();
            $feedbackView.hide();
            $confirmationView.hide();

            var yesOrNo = "";
            var message = "";

            function sendFeedback(message) {
                $.post("/docs/feedback", { slug : "docs/getting-started", helped : yesOrNo, message : message });
            };

            $(".close", $feedback).click(function () {
                $feedback.fadeOut(300);
            });

            var yesTimer = null;

            $(".no", $feedback).click(function () {
                yesOrNo = "no";
                sendFeedback();
                $initialView.fadeOut(function () {
                    $feedbackView.show();
                });
            });

            $(".yes", $feedback).click(function () {
                yesOrNo = "yes";
                sendFeedback();

                $initialView.fadeOut(function () {
                    $yesView.show();
                });

                yesTimer = setTimeout(function () {
                    $feedback.fadeOut();
                }, 10000);
            });
            $(".suggestion", $feedback).click(function (e) {
                if (yesTimer) {
                    clearTimeout(yesTimer);
                }
                e.preventDefault();
                $yesView.fadeOut(function () {
                    $(".feedback-intro", $feedbackView).text("Thanks! Let us know if there's anything we can improve.");
                    $feedbackView.show();
                });
            });
            $(".send", $feedback).click(function () {
                message = $(".feedback-textbox", $feedback).val();
                sendFeedback();
                $feedbackView.fadeOut(function () {
                    $confirmationView.show();
                    setTimeout(function () {
                        $feedback.fadeOut();
                    }, 10000);
                });
            });

            $feedback.removeClass("hidden");
            $feedback.hide();
            $feedback.show();
        });
    </script>
<script type="text/javascript">
        rg4js('apiKey', 'x6kh9H0AxbqPLcjQVaOZNQ==');
        rg4js('enablePulse', true);
        rg4js('enableCrashReporting', true);
    </script>
</body>
</html>
