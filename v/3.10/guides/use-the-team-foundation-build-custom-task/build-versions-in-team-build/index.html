<!DOCTYPE html>
<html lang="en">
<head>
<title>Home - Octopus Deploy</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="description" content="Octopus Deploy end user documentation">
<meta name="author" content="Octopus Deploy Pty. Ltd.">
<link href="https://octopus.com/Content/css?v=gINWHNhE0iHcMgkubiWTdi_Y0omBd0nNmJWowMG1gJM1" rel="stylesheet">
<link rel="stylesheet" href="https://octopus.com/Content/Print.css" type="text/css" media="print">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.7.0/featherlight.min.css" integrity="sha256-Bl4rr1AwUjcb8VvRrdHXqJvRRCyF7oHsgUl74ELjr7k=" crossorigin="anonymous">
<meta name="viewport" content="width=device-width">
<meta property="og:type" content="website">
<meta property="og:title" content="Home - Octopus Deploy">
<meta property="og:description" content="Octopus Deploy end user documentation">
<meta property="og:site_name" content="Octopus Deploy">
<meta property="twitter:card" content="summary">
<meta property="twitter:site" content="@OctopusDeploy">
<meta name="application-name" content="Octopus Deploy">
<link rel="canonical" href="https://octopus.com/docs">
<link rel="me" type="text/html" href="https://plus.google.com/102650558422902813929?rel=me">
<link rel="me" type="text/html" href="http://feeds.feedburner.com/OctopusDeploy">
<link rel="me" type="text/html" href="https://twitter.com/OctopusDeploy">
<link rel="icon" type="image/png" href="https://octopus.com/content/resources/favicon.png">
<link rel="apple-touch-icon" href="https://octopus.com/content/resources/Octopus-96x96.png">
<link href="http://feeds.feedburner.com/OctopusDeploy" type="application/rss+xml" rel="alternate" title="Octopus Deploy Blog Feed">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/github.min.css" integrity="sha256-3YM6A3pH4QFCl9WbSU8oXF5N6W/2ylvW0o2g+Z6TmLQ=" crossorigin="anonymous">
<style>.btnCopy{position:absolute;right:0;top:0;}.copyToClipboard{position:relative;}@media (min-width: 1200px) {.container{max-width:1600px;width:100%;}}</style>
</head>
<body class="">
 
<script>
    window.ga = window.ga || function () { (ga.q = ga.q || []).push(arguments) }; ga.l = +new Date;
    ga('create', 'UA-24461753-1', 'auto');
    ga('send', 'pageview');
</script>
<script async="" src="https://www.google-analytics.com/analytics.js"></script>
 
 
<script type="text/javascript">
    setTimeout(function(){var a=document.createElement("script");
        var b=document.getElementsByTagName("script")[0];
        a.src=document.location.protocol+"//script.crazyegg.com/pages/scripts/0021/2568.js?"+Math.floor(new Date().getTime()/3600000);
        a.async=true;a.type="text/javascript";b.parentNode.insertBefore(a,b)}, 1);
</script>
 
<div class="top-and-splash">
<div id="top">
<div id="header">
<div class="navbar navbar-fixed-top">
<div class="">
<div class="container">
<div>
<div class="navbar-header">
<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
<span class="sr-only">Toggle navigation</span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
</button>
<a id="logo" class="navbar-brand" href="/">Octopus Deploy</a>
</div>
<div id="nav-main" class='navbar-collapse collapse'>
<div>
<ul class="nav navbar-nav navbar-right">
<li class="">
<a href="/why">
Why Octopus
</a>
</li>
<li class="">
<a href="/downloads">
Downloads
</a>
</li>
<li class="">
<a href="/company/about">
Company
</a>
</li>
<li class="active">
<a href="/docs">
Docs
</a>
</li>
<li class="">
<a href="/support">
Support
</a>
</li>
<li class="">
<a href="/purchase">
Pricing
</a>
</li>
<li class=""><a href="/blog">Blog</a></li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="middle">
<div id="main">
<div class="stripe stripe-blue">
<div class="container">
<span class="page-title">Octopus Deploy Documentation</span>
</div>
</div>
<div style="padding-left: 16px;" class="stripe stripe-white">
<div class="container">
<div class="row">
<div class="col-md-9">
<div id="doc_content" class="main-content"><h1>Build versions and Packaging in Team Build</h1><p>Correctly versioning the packages you deploy with Octopus Deploy is important so the right version gets deployed at the right time. With Team Foundation Server (TFS) and Visual Studio Team Services (VSTS), specifying a package version isn't always straightforward.</p>
<p>This guide shows you how best to version your builds and packages in TFS and VSTS, whether you're using <a href="#versioning-when-using-octopack">OctoPack</a>, or the <a href="#versioning-when-using-the-octopus-build-tasks">Octopus Extension in the Visual Studio Marketplace</a>.</p>
<div class='toc'>
  <ul>
    <li class='toc-h2'><a href='#build-numbers-in-team-build'>Build numbers in Team Build</a></li>
    <li class='toc-h2'><a href='#semver'>Semver</a>
      <ul>
        <li class='toc-h3'><a href='#setting-a-semver-compliant-build-number'>Setting a Semver-compliant build number</a></li>
      </ul>
    </li>

    <li class='toc-h2'><a href='#packaging-in-team-build'>Packaging in Team Build</a></li>
    <li class='toc-h2'><a href='#versioning-when-using-octopack'>Versioning when using OctoPack</a>
      <ul>
        <li class='toc-h3'><a href='#octopack-recommendation'>OctoPack recommendation</a></li>
      </ul>
    </li>

    <li class='toc-h2'><a href='#versioning-when-using-the-octopus-build-tasks'>Versioning when using the Octopus Build Tasks</a>
      <ul>
        <li class='toc-h3'><a href='#build-task-recommendation'>Build task recommendation</a></li>
        <li class='toc-h3'><a href='#specifying-the-files-to-pack-and-push'>Specifying the files to pack and push</a></li>
      </ul>
    </li>

  </ul>
</div>
<h2 id="build-numbers-in-team-build">Build numbers in Team Build</h2>
<p>In Team Build (the build system in TFS and VSTS), build numbers may be in a format that doesn't represent a valid Semver number.</p>
<p>For example, Microsoft's <a href="https://www.visualstudio.com/en-gb/docs/build/define/general#build-number-format" rel="nofollow">Build Number format documentation</a> gives an example: <code>$(TeamProject)_$(BuildDefinitionName)_$(SourceBranchName)_$(Date:yyyyMMdd)$(Rev:.r)</code> will result in a version number like <code>Fabrikam_CIBuild_master_20090805.2</code>.</p>
<p>While this is a valid Team Build build number, it can cause issues when trying to pack the build output into a Nuget package or zip file for Octopus.</p>
<h2 id="semver">Semver</h2>
<p>Packages used by Octopus must conform to <a href="https://octopus.com/docs/packaging-applications/versioning-in-octopus-deploy">Semver 1.0 or 2.0</a> depending on the version of Octopus you're using.</p>
<p>The link above explains versioning in detail, but in its simplest form it means two things:</p>
<ol>
<li>Numbered versions in 3 or 4 segments that can be interpreted as <code>major.minor.patch</code>, with an optional &quot;prerelease tag&quot; afterwards in the form <code>-tag</code></li>
<li>Versions can be sorted predictably. For example, <code>1.2.3</code> is newer than <code>1.2.0</code>.</li>
</ol>
<p>As you can see, a package version of <code>Fabrikam_CIBuild_master_20090805.2</code> won't be valid will cause issues!</p>
<h3 id="setting-a-semver-compliant-build-number">Setting a Semver-compliant build number</h3>
<p>The recommendations below generally rely on the build number itself being Semver-compliant. To do this, you can change the build number format.</p>
<p>Our recommended build number format is: <code>x.y.$(BuildID)</code> where <code>x</code> and <code>y</code> are integers. You can change them when you want to bump a version. This format will produce a three-part version number like <code>1.2.350</code>.</p>
<p><a href='#' data-featherlight='/docs/guides/use-the-team-foundation-build-custom-task/build-format-recommended.jpg' class='zoom' data-title=''><img src='/docs/guides/use-the-team-foundation-build-custom-task/build-format-recommended.jpg' class="img-fluid center" height="auto" width="500" alt='Recommended Build format' /></a></p>
<p>If you have a build for a separate branch, it's a good idea to add the version tag. For example: <code>x.y.$(BuildID)-feature-1</code> will produce a version number like <code>1.2.350-feature1</code>. Even better, you can use the <code>$(Build.SourceBranchName)</code> variable to set it to the branch name.</p>
<div class="alert alert-warning"><p>The only downside of this numbering format is the <code>$(BuildID)</code> variable <em>always</em> increases, and does so at the Project Collection level. That means it doesn't reset when you increment your major and minor versions, and if you have multiple builds in your Collection, numbers will be skipped.</p>
</div>
<h2 id="packaging-in-team-build">Packaging in Team Build</h2>
<p>There are two standard ways to package your build output in Team Build. The first is to use <a href="https://octopus.com/docs/packaging-applications/nuget-packages/using-octopack">OctoPack</a>, and the second is to use the build tasks in the <a href="">Octopus marketplace extension</a>.</p>
<p>You can mix and match these two methods. For example, you might prefer to use OctoPack and the <code>/p:RunOctoPack</code> MS Build argument, but then use the Push and Create Release tasks from the extension.</p>
<h2 id="versioning-when-using-octopack">Versioning when using OctoPack</h2>
<p>Unless told otherwise, OctoPack will attempt to set the package version itself. You can see exactly how it tries to find a version <a href="https://octopus.com/docs/packaging-applications/nuget-packages/using-octopack#UsingOctoPack-Versionnumbers">on this documentation page</a>.</p>
<p>More often than not, the version number will come from the <code>[assembly: AssemblyVersion]</code> attribute found in the <code>AssemblyInfo.cs</code> file (usually in the <code>Properties</code> folder of your project).</p>
<p>The assembly version number doesn't always behave the way we want. It may not change, and if it does, it may not change sequentially.</p>
<p>Setting the <code>AssemblyVersion</code> number to <code>x.y.*</code> will <a href="http://stackoverflow.com/questions/356543/can-i-automatically-increment-the-file-build-version-when-using-visual-studio" rel="nofollow">fix the two most common problems here</a>. A version like <code>1.0.*</code> will result in an always-increasing version number.</p>
<ol>
<li>If the version number is fixed (e.g. <code>1.0.0.0</code>), Octopus will complain that the package number already exists.</li>
<li>If the version number only changes &quot;revision&quot; number (e.g. <code>1.0.0.*</code>), numbers can repeat.</li>
</ol>
<p>One problem remains - particularly for web projects. If you only change content files, triggering a new build <em>won't update the version number</em> because Team Build realizes no compilable code has changed. OctoPack won't get a new version number!</p>
<h3 id="octopack-recommendation">OctoPack recommendation</h3>
<p>To solve all these issues, we recommend using the <code>/p:OctoPackPackageVersion</code> argument when using OctoPack. This lets you specify the version directly, and you can use build variables to specify the version number.</p>
<ol>
<li>Set the build definition build number format (described <a href="#setting-a-semver-compliant-build-number">above</a>) to a valid Semver version.</li>
<li>Add the appropriate <code>/p:OctoPackPackageVersion</code> MSBuild argument:
<ul>
<li>In the new build engine (VSTS and from TFS 2015 onwards): <code>/p:OctoPackPackageVersion=$(Build.BuildNumber)</code></li>
<li>In the older XAML-based builds: <code>/p:OctoPackPackageVersion=$(TF_BUILD_BUILDNUMBER)</code>. You may also need to do some <a href="http://stackoverflow.com/questions/40120013/how-to-get-msbuild-build-number-in-name-of-nuget-package-using-octopack" rel="nofollow">extra work</a> for certain build definitions.</li>
</ul>
</li>
</ol>
<div class="alert alert-info"><p>You can use the <a href="https://octopus.com/docs/packaging-applications/nuget-packages/using-octopack#UsingOctoPack-Publishing" class="alert-link">additional MSBuild arguments for OctoPack</a> to give yourself more control over the packaging process.</p>
</div>
<h2 id="versioning-when-using-the-octopus-build-tasks">Versioning when using the Octopus Build Tasks</h2>
<p>If you're using the new <a href="https://marketplace.visualstudio.com/items?itemName=octopusdeploy.octopus-deploy-build-release-tasks" rel="nofollow">Octopus Deploy extension from the Visual Studio Marketplace</a>, you'll have access to a new <strong>Package Application</strong> build task.</p>
<p><img src='/docs/guides/use-the-team-foundation-build-custom-task/pack-task.jpg' class="img-fluid center" alt='Package Application build task' /></p>
<p>This task does not provide you with a default version number - this is something you have to set yourself. Clearly it wouldn't be feasible to change this value every time you do a build, so we recommend you make use of the build variables that Team Build provides.</p>
<p>Build and Release variables can be found in <a href="https://www.visualstudio.com/en-us/docs/build/define/variables" rel="nofollow">the Microsoft Documentation</a>, but the more useful ones include:</p>
<ul>
<li><code>$(Build.BuildNumber)</code> - This is the full build number (see <a href="#setting-a-semver-compliant-build-number">above</a> for setting an appropriate format)</li>
<li><code>$(Build.BuildID)</code> - This is a unique, incrementing ID at the Project collection level. Every new build will give you a new number.</li>
<li><code>$(Build.SourceBranchName)</code> - this is the last path segment in the name of the branch. For example, a branch of <code>refs/heads/master</code> will return <code>master</code>.</li>
</ul>
<h3 id="build-task-recommendation">Build task recommendation</h3>
<p>There are two options we recommend for specifying a version number to the Package Application task.</p>
<ol>
<li>Use a combination of static values and variables directly. For example, <code>1.0.$(Build.BuildID)</code> will always give you a new version number.</li>
<li>Use the full build number, and format that number appropriately as <a href="#setting-a-semver-compliant-build-number">described above</a>.</li>
</ol>
<p>We recommend the second option for a few reasons.</p>
<p>First, it's very easy to match the build to the package because they'll have the same number, and secondly, if you have multiple pack steps, you only need to change a single version number.</p>
<h3 id="specifying-the-files-to-pack-and-push">Specifying the files to pack and push</h3>
<p>One of the frequent causes of issues when using the Octopus build tasks is properly specifying the folders to pack and the nuget package to push. Especially if you're using the hosted build server, it can be hard to figure out where everything ends up when the build is running.</p>
<p>Rather than guessing, it can be helpful to specify these folders specifically. Again, there are some useful build variables you can make use of.</p>
<ul>
<li><code>$(Build.SourcesDirectory)</code> - the location of your source before it gets built.</li>
<li><code>$(Build.ArtifactStagingDirectory)</code> - A staging location for artifacts - useful for output files you want to use later (e.g. Nuget files)</li>
</ul>
<ol>
<li>Use the <code>/p:outdir=</code> MSBuild argument in your compile step to specify where the compiled code should end up.</li>
<li>In the <strong>Package Application</strong> step, put the location from step 1 into the <strong>Source Path</strong> field.</li>
<li>In the <strong>Package Application</strong> step, put a new location into the <strong>Output Path</strong> field.</li>
<li>In the <strong>Push Package(s) to Octopus</strong> step, specify the full path and filename from step 3 above.</li>
</ol>
<p>By way of example, here's a nicely-configured set of build, pack, and push steps.</p>
<p><a href='#' data-featherlight='/docs/guides/use-the-team-foundation-build-custom-task/example-build-1.jpg' class='zoom' data-title=''><img src='/docs/guides/use-the-team-foundation-build-custom-task/example-build-1.jpg' class="img-fluid center" height="auto" width="500" alt='Example Build Step' /></a></p>
<p><a href='#' data-featherlight='/docs/guides/use-the-team-foundation-build-custom-task/example-build-2.jpg' class='zoom' data-title=''><img src='/docs/guides/use-the-team-foundation-build-custom-task/example-build-2.jpg' class="img-fluid center" height="auto" width="500" alt='Example Package Step' /></a></p>
<p><a href='#' data-featherlight='/docs/guides/use-the-team-foundation-build-custom-task/example-build-3.jpg' class='zoom' data-title=''><img src='/docs/guides/use-the-team-foundation-build-custom-task/example-build-3.jpg' class="img-fluid center" height="auto" width="500" alt='Example Push Step' /></a></p>
</div>
</div>
<div class="col-md-3" style="padding-bottom: 100px">
<div class="panel panel-info documentation">
<div class="panel-heading">
<div class="panel-title">
<a href="/docs">Documentation</a>
<div style="margin-top: -3px; margin-bottom: 0" class="dropdown pull-right">
<button class="btn btn-info btn-xs dropdown-toggle" type="button" id="versionSelector" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
Latest
<span class="caret"></span>
</button>
<ul class="dropdown-menu" aria-labelledby="versionSelector"><li class=''><a href='/docs/guides/use-the-team-foundation-build-custom-task/build-versions-in-team-build'>Latest</a></li><li class=''><a href='/docs/v/3.14/guides/use-the-team-foundation-build-custom-task/build-versions-in-team-build'>3.14</a></li><li class=''><a href='/docs/v/3.13/guides/use-the-team-foundation-build-custom-task/build-versions-in-team-build'>3.13</a></li><li class=''><a href='/docs/v/3.12/guides/use-the-team-foundation-build-custom-task/build-versions-in-team-build'>3.12</a></li><li class=''><a href='/docs/v/3.11/guides/use-the-team-foundation-build-custom-task/build-versions-in-team-build'>3.11</a></li><li class='disabled'><a href='/docs/v/3.10/guides/use-the-team-foundation-build-custom-task/build-versions-in-team-build'>3.10</a></li><li class=''><a href='/docs/v/3.9/guides/use-the-team-foundation-build-custom-task/build-versions-in-team-build'>3.9</a></li><li class=''><a href='/docs/v/3.8/guides/use-the-team-foundation-build-custom-task/build-versions-in-team-build'>3.8</a></li><li class=''><a href='/docs/v/3.7/guides/use-the-team-foundation-build-custom-task/build-versions-in-team-build'>3.7</a></li><li class=''><a href='/docs/v/3.6/guides/use-the-team-foundation-build-custom-task/build-versions-in-team-build'>3.6</a></li></ul>
</div>
</div>
</div>
<div class="panel-body">
<form action="/search" method="get"> <div class="form-search search-only">
<i class="search-icon fa fa-search"></i>
<input id="context" name="context" type="hidden" value="docs">
<input class="form-control search-query" id="q" name="q" placeholder="Search" type="text" value="">
</div>
</form>
<div class="sidebar">
<ul>
<li>
<a class=" " href="/docs/getting-started">Getting started</a>
</li>
<li>
<a class=" has-children" href="/docs/installation">Installation</a>
</li>
<li>
<a class=" has-children" href="/docs/key-concepts">Key Concepts</a>
</li>
<li>
<a class=" has-children" href="/docs/packaging-applications">Packaging applications</a>
</li>
<li>
<a class=" has-children" href="/docs/deployment-targets">Deployment targets</a>
</li>
<li>
<a class=" has-children" href="/docs/deploying-applications">Deploying applications</a>
</li>
<li>
<a class=" has-children" href="/docs/api-and-integration">API and Integration</a>
</li>
<li>
<a class=" has-children" href="/docs/patterns">Patterns</a>
</li>
<li>
<a class=" has-children" href="/docs/administration">Administration</a>
</li>
<li>
<a class=" has-children" href="/docs/reference">Reference</a>
</li>
<li>
<a class=" has-children" href="/docs/how-to">How to</a>
</li>
<li>
<a class=" has-children" href="/docs/guides">Guides</a>
</li>
</ul>
</div>
</div>
</div>
<div class="text-center">
<a href="https://github.com/OctopusDeploy/docs/blob/master/docs/index.md" class="tutorial" rel="nofollow">Edit this page on GitHub</a>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="bottom">
<div id="footer">
<div class="container">
<div class="row">
<div class="col-md-3">
<strong>Octopus Deploy</strong>
<p>
<a href="/company/about">Company</a>
<br>
<a href="/company/testimonials">Testimonials</a>
<br>
<a href="/company/roadmap">Roadmap</a>
<br>
<a href="/privacy">Privacy policy</a>
<br>
<a href="/company/team">Team</a>
</p>
</div>
<div class="col-md-3">
<strong><a href="/docs" style="color: inherit">Documentation</a></strong>
<p>
<a href="/docs/getting-started">
Getting started
</a>
<br>
<a href="/docs/packaging-applications">
Packaging
</a>
<br>
<a href="/docs/deploying-applications">
Deploying applications
</a>
<br>
<a href="/docs/api-and-integration">
REST API and integration
</a>
<br>
<a href="/docs/how-to">
How to
</a>
</p>
</div>
<div class="col-md-3">
<strong><a href="/support" style="color: inherit">Help &amp; Support</a></strong>
<p>
<a href="http://help.octopusdeploy.com/discussions/problems" class="external">
Problems
</a>
<br>
<a href="http://help.octopusdeploy.com/discussions/questions" class="external">
Questions
</a>
<br>
<a href="https://octopusdeploy.uservoice.com/" class="external">
Suggestions
</a>
<br>
<a href="/videos">
Videos
</a>
<br>
<a href="/company/partners">
Partners
</a>
</p>
</div>
<div class="col-md-3" style="text-align: left">
<strong>Follow us</strong>
<p>
<a href="https://twitter.com/OctopusDeploy"><i class="fa fa-fw fa-twitter" style='color: rgb(85, 172, 238);'></i> @OctopusDeploy</a><br>
<a href="https://github.com/OctopusDeploy"><i class="fa fa-fw fa-github" style='color: white'></i> OctopusDeploy</a><br>
<a href="http://www.youtube.com/c/Octopusdeploy"><i class="fa fa-fw fa-youtube-play" style='color: #D52423'></i> YouTube</a><br>
<a href="http://feeds.feedburner.com/OctopusDeploy"><i class="fa fa-fw fa-rss" style='color: orange'></i> Octopus Deploy Blog</a><br>
<a href="https://confirmsubscription.com/h/d/740FABA4D5BBCE4B"><i class="fa fa-fw fa-envelope" style='color: #7BD678'></i> Newsletter</a><br>
</p>
</div>
</div>
</div>
</div>
</div>
<script src="https://octopus.com/bundles/jquery?v=G3cMxyHQisnfgHNXEHQ14yIRldK7D4FD5TlU9xTesBI1"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.7.0/featherlight.min.js" integrity="sha256-zTDNEf7J+bPdCSndhy8DppFjxfRGG5BFJW5obpl0XQs=" crossorigin="anonymous"></script>
<script type="text/javascript">
    (function ($) {
        var ts;

        $("div.navbar-fixed-top").autoHidingNavbar();
            
        $.featherlight.defaults.closeOnClick = 'anywhere';
        $.featherlight.defaults.afterOpen = function () {
            ts = + new Date();
            $(window).on('scroll', closeFeatherlightOnScroll);
        };

        function closeFeatherlightOnScroll(event) {
            var nowTs = + new Date();

            if (ts + 500 > nowTs) {
                return;
            }
            $.featherlight.close(event);
            $(window).off('scroll', closeFeatherlightOnScroll);
        }
    })($);
</script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js" integrity="sha256-KbfTjB0WZ8vvXngdpJGY3Yp3xKk+tttbqClO11anCIU=" crossorigin="anonymous"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/sql.min.js" integrity="sha256-J7HuqMJTEc5SsyA8nOP0+kVUMGlQq0LrQAvAVgs1k1E=" crossorigin="anonymous"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/powershell.min.js" integrity="sha256-cRUESDACI7Yr/eSmoHs6zDQu6HmpAkCp0s4xrZ9RnE0=" crossorigin="anonymous"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/dockerfile.min.js" integrity="sha256-putofyQv7OB569xAldpyBnHJ0Uc+7VGp5Us05IgDGss=" crossorigin="anonymous"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/fsharp.min.js" integrity="sha256-EwjgDftHUX2pcHkcn19JrQPazoBiHIDivBrellTCYnA=" crossorigin="anonymous"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/anchor-js/3.2.2/anchor.min.js" integrity="sha256-WofcoLT8gToeaSmVRe28qpnlFxdBJH1n4K6Bk3YowvU=" crossorigin="anonymous"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/twemoji/2.2.3/twemoji.min.js" integrity="sha256-Y3KC8juDUsBOzJ3XtOH/sj+BAlF9AQr6pEey+4ibaJ4=" crossorigin="anonymous"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.17.1/moment.min.js" integrity="sha256-Gn7MUQono8LUxTfRA0WZzJgTua52Udm1Ifrk5421zkA=" crossorigin="anonymous"></script>
<script type="text/javascript">
        (function($) {
            $('time').each(function(i, e) {
                var time = moment($(e).attr('datetime')).fromNow();
                $(e).html(time);
            });

            hljs.initHighlightingOnLoad();

            anchors.options.placement = 'left';
            anchors.add('#doc_content > h1, #doc_content > h2, #doc_content > h3, #doc_content > h4');

            twemoji.parse(document.body,
            {
                size: '16x16',
                base: 'https://cdnjs.cloudflare.com/ajax/libs/twemoji/2.2.3/'
            });
            
            function canCopyToClipboard() {
                return window.clipboardData && window.clipboardData.setData ||
                    document.queryCommandSupported && document.queryCommandSupported("copy");
            };

            function copyToClipboard(text) {
                if (window.clipboardData && window.clipboardData.setData) {
                    $(window).trigger("copy", e);
                    return clipboardData.setData("Text", text);

                } else if (document.queryCommandSupported && document.queryCommandSupported("copy")) {
                    var textarea = document.createElement("textarea");
                    textarea.textContent = text;
                    textarea.style.position = "fixed";
                    document.body.appendChild(textarea);
                    textarea.select();
                    try {
                        return document.execCommand("copy");
                    } catch (ex) {
                        console.warn("Copy to clipboard failed.", ex);
                        return false;
                    } finally {
                        document.body.removeChild(textarea);
                    }
                }

                return false;
            };

            if (canCopyToClipboard()) {
                var copyButton =
                    $("<a title=\"Copy to clipboard\" class=\"btnCopy btn btn-default btn-xs\" href=\"#\" role=\"button\">Copy</a>");
                copyButton.click(function (e) {
                    var el = $(this).parent().next().find("code");
                    if (el) {
                        copyToClipboard(el[0].textContent);
                        $(this).attr("title", "Copied!").tooltip("fixTitle").tooltip("show")
                               .attr("title", "Copy to clipboard").tooltip("fixTitle");
                    }
                    e.stopPropagation();
                    return false;
                });

                var wrapperForButton =
                    $("<div class=\"copyToClipboard\"></div>").append(copyButton);

                $("pre").before(wrapperForButton);
                $("a.btnCopy").tooltip();
            }
        })($);
    </script>
 
 
</body>
</html>
