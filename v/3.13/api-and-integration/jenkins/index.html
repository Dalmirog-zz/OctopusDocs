<!DOCTYPE html>
<html lang="en">
<head>
<title>Home - Octopus Deploy</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="description" content="Octopus Deploy end user documentation">
<meta name="author" content="Octopus Deploy Pty. Ltd.">
<link href="https://octopus.com/Content/css?v=gINWHNhE0iHcMgkubiWTdi_Y0omBd0nNmJWowMG1gJM1" rel="stylesheet">
<link rel="stylesheet" href="https://octopus.com/Content/Print.css" type="text/css" media="print">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.7.0/featherlight.min.css" integrity="sha256-Bl4rr1AwUjcb8VvRrdHXqJvRRCyF7oHsgUl74ELjr7k=" crossorigin="anonymous">
<meta name="viewport" content="width=device-width">
<meta property="og:type" content="website">
<meta property="og:title" content="Home - Octopus Deploy">
<meta property="og:description" content="Octopus Deploy end user documentation">
<meta property="og:site_name" content="Octopus Deploy">
<meta property="twitter:card" content="summary">
<meta property="twitter:site" content="@OctopusDeploy">
<meta name="application-name" content="Octopus Deploy">
<link rel="canonical" href="https://octopus.com/docs">
<link rel="me" type="text/html" href="https://plus.google.com/102650558422902813929?rel=me">
<link rel="me" type="text/html" href="http://feeds.feedburner.com/OctopusDeploy">
<link rel="me" type="text/html" href="https://twitter.com/OctopusDeploy">
<link rel="icon" type="image/png" href="https://octopus.com/content/resources/favicon.png">
<link rel="apple-touch-icon" href="https://octopus.com/content/resources/Octopus-96x96.png">
<link href="http://feeds.feedburner.com/OctopusDeploy" type="application/rss+xml" rel="alternate" title="Octopus Deploy Blog Feed">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/github.min.css" integrity="sha256-3YM6A3pH4QFCl9WbSU8oXF5N6W/2ylvW0o2g+Z6TmLQ=" crossorigin="anonymous">
<style>.btnCopy{position:absolute;right:0;top:0;}.copyToClipboard{position:relative;}@media (min-width: 1200px) {.container{max-width:1600px;width:100%;}}</style>
</head>
<body class="">
 
<script>
    window.ga = window.ga || function () { (ga.q = ga.q || []).push(arguments) }; ga.l = +new Date;
    ga('create', 'UA-24461753-1', 'auto');
    ga('send', 'pageview');
</script>
<script async="" src="https://www.google-analytics.com/analytics.js"></script>
 
 
<script type="text/javascript">
    setTimeout(function(){var a=document.createElement("script");
        var b=document.getElementsByTagName("script")[0];
        a.src=document.location.protocol+"//script.crazyegg.com/pages/scripts/0021/2568.js?"+Math.floor(new Date().getTime()/3600000);
        a.async=true;a.type="text/javascript";b.parentNode.insertBefore(a,b)}, 1);
</script>
 
<div class="top-and-splash">
<div id="top">
<div id="header">
<div class="navbar navbar-fixed-top">
<div class="">
<div class="container">
<div>
<div class="navbar-header">
<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
<span class="sr-only">Toggle navigation</span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
</button>
<a id="logo" class="navbar-brand" href="/">Octopus Deploy</a>
</div>
<div id="nav-main" class='navbar-collapse collapse'>
<div>
<ul class="nav navbar-nav navbar-right">
<li class="">
<a href="/why">
Why Octopus
</a>
</li>
<li class="">
<a href="/downloads">
Downloads
</a>
</li>
<li class="">
<a href="/company/about">
Company
</a>
</li>
<li class="active">
<a href="/docs">
Docs
</a>
</li>
<li class="">
<a href="/support">
Support
</a>
</li>
<li class="">
<a href="/purchase">
Pricing
</a>
</li>
<li class=""><a href="/blog">Blog</a></li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="middle">
<div id="main">
<div class="stripe stripe-blue">
<div class="container">
<span class="page-title">Octopus Deploy Documentation</span>
</div>
</div>
<div style="padding-left: 16px;" class="stripe stripe-white">
<div class="container">
<div class="row">
<div class="col-md-9">
<div id="doc_content" class="main-content"><h1>Jenkins</h1><p><a href="http://jenkins-ci.org/" rel="nofollow">Jenkins</a> is an extendable, open-source continuous integration server. You can use Jenkins to compile and test your code, and then have it trigger deployments in Octopus Deploy. This page will guide you through making these tools work together.</p>
<h2 id="Jenkins-Prerequisites">Prerequisites</h2>
<p>Plugins are central to Jenkins, and a number of plugins will be required to follow the steps on this page. Before you can start, you'll need to ensure the following plugins are enabled:</p>
<ul>
<li><a href="http://wiki.jenkins-ci.org/display/JENKINS/MSBuild+Plugin" rel="nofollow">MSBuild Plugin</a> - required to compile your Visual Studio solution</li>
<li><a href="https://wiki.jenkins-ci.org/display/JENKINS/Mask+Passwords+Plugin" rel="nofollow">Mask Passwords Plugin</a> - required to store your Octopus API keys and keep them out of the console</li>
</ul>
<p>Build job</p>
<p>During our Jenkins job, we will:</p>
<ol>
<li>Compile the code, run unit tests, and so on - typical CI tasks</li>
<li>Have OctoPack create NuGet packages</li>
<li>Publish these NuGet packages to the Octopus Deploy server</li>
<li>Create a release in Octopus, ready to be deployed</li>
</ol>
<p>Jenkins uses the MSBuild plugin to compile Visual Studio solutions. <a href="/docs/v/3.13/packaging-applications/nuget-packages/using-octopack">Once OctoPack has been installed</a> on your C#/VB projects, you can configure Jenkin's MSBuild task to pass the appropriate parameters to MSBuild to have OctoPack run:</p>
<p><a href='#' data-featherlight='/docs/images/3048162/3278145.png' class='zoom' data-title=''><img src='/docs/images/3048162/3278145.png' class="img-fluid center" height="auto" width="500" alt='' /></a></p>
<p>There are a number of parameters that you will want to define. For this page, we are using:</p>
<pre><code class="language-bash">/p:RunOctoPack=true /p:OctoPackPackageVersion=1.1.${BUILD_NUMBER} /p:OctoPackPublishPackageToHttp=http://localhost/nuget/packages /p:OctoPackPublishApiKey=${OctopusApiKey}
</code></pre>
<p>The settings are:</p>
<ul>
<li><strong>RunOctoPack</strong>: specifies that OctoPack should create packages during the build</li>
<li><strong>OctoPackPackageVersion</strong>: version number that should be given to packages created by OctoPack. Since Jenkins build numbers are integers like &quot;12&quot;, we combine it with &quot;1.1.&quot; to produce package versions such as &quot;1.0.12&quot;.</li>
<li><strong>OctoPackPublishPackageToHttp</strong>: tells OctoPack to push the package to the Octopus Deploy server. Read more about the <a href="/docs/v/3.13/packaging-applications/package-repositories">built-in NuGet repository in Octopus</a>. You'll find the URL to your repository on the <span class="path">Library ➜ Packages</span> tab in Octopus.  Simply click the <code>Show examples</code> link to see options to upload packages including the repository URL.</li>
<li><strong>OctoPackPublishApiKey</strong>: your Octopus Deploy API key</li>
</ul>
<div class="alert alert-success"><p><strong>OctoPack arguments</strong><br />
Learn more about the available <a href="/docs/v/3.13/packaging-applications/nuget-packages/using-octopack" class="alert-link">OctoPack parameters</a>.</p>
</div>
<p>Notice that we use <code>${OctopusApiKey}</code> to access an API key that we will use to authenticate with Octopus. You define this using the fields provided by the <strong>Mask Passwords plugin</strong> on your job.</p>
<p><a href='#' data-featherlight='/docs/images/3048162/3278146.png' class='zoom' data-title=''><img src='/docs/images/3048162/3278146.png' class="img-fluid center" height="auto" width="500" alt='' /></a></p>
<div class="alert alert-success"><p><strong>Creating API keys</strong><br />
Learn about <a href="/docs/v/3.13/how-to/how-to-create-an-api-key" class="alert-link">how to create an API key</a>.</p>
</div>
<p>After running this job, and assuming OctoPack is correctly installed, your code should compile, and packages should be published to the Octopus Deploy server. You can go to <span class="path">Library ➜ Packages</span> in Octopus to check that the packages have been published.</p>
<h2 id="Jenkins-Creatingarelease">Creating a release</h2>
<p>Jenkins is compiling our code and publishing packages to Octopus Deploy. If we wish, we can also have Jenkins automatically create (and optionally, deploy) a release in Octopus.</p>
<p>To do this, we'll be using the <a href="/docs/v/3.13/api-and-integration/octo.exe-command-line">Octo.exe command line tool</a>. <a href="https://octopus.com/downloads">Download Octo.exe</a>, and extract it to a folder on your Jenkins server, such as <code>C:\Tools\Octo\Octo.exe</code></p>
<p>We can call Octo.exe easily using the Jenkins <strong>Execute Windows batch</strong> <strong>command</strong> task.</p>
<p><a href='#' data-featherlight='/docs/images/3048162/3278144.png' class='zoom' data-title=''><img src='/docs/images/3048162/3278144.png' class="img-fluid center" height="auto" width="500" alt='' /></a></p>
<p>In the command, we are calling:</p>
<pre><code class="language-bash">&quot;C:\Tools\Octo\Octo.exe&quot; create-release --project OctoFX --version 1.1.%BUILD_NUMBER% --packageversion 1.1.%BUILD_NUMBER% --server http://localhost/ --apiKey %OctopusApiKey% --releaseNotes &quot;Jenkins build [%BUILD_NUMBER%](http://localhost:8054/job/OctoFX/%BUILD_NUMBER%)/&quot;

</code></pre>
<p>Importantly:</p>
<ul>
<li>The <code>--project</code> specifies the name of the Octopus Deploy project that we want to create a release for.</li>
<li>The <code>--version</code> specifies the version number of the release in Octopus. We want this to contain the Jenkins build number.</li>
<li>The <code>--packageversion</code> tells Octo.exe to ensure that the release references the right version of the NuGet packages that we published using OctoPack.</li>
<li>The <code>--releaseNotes</code> will appear in Octopus, and link back to the build in Jenkins. Of course, change the URL to the address of your Jenkins server</li>
</ul>
<div class="alert alert-success"><p><strong>Octo.exe arguments</strong><br />
Learn more about <a href="/docs/v/3.13/api-and-integration/octo.exe-command-line" class="alert-link">Octo.exe</a> and the arguments it accepts.</p>
</div>
<p>With this job runs, Jenkins will now not only build and publish packages, but it should also create a release in Octopus Deploy.</p>
<h2 id="Jenkins-Deployingreleases">Deploying releases</h2>
<p>You might like to configure Jenkins to not only create a release, but deploy it to a test environment. This can easily be done by adding some extra parameters to the <code>create-release</code> command:</p>
<pre><code class="language-bash">&quot;C:\Tools\Octo\Octo.exe&quot; create-release ....(same as before)... --deployto=Development --progress
</code></pre>
<p>The extra arguments being:</p>
<ul>
<li>The <code>--deployTo</code> setting specifies the environment in Octopus that we are deploying to.</li>
<li>The <code>--progress</code> flag tells Octo.exe to write the deployment log from Octopus to the log in Jenkins. This flag was added in 2.5; in previous versions of Octo.exe you can use <code>--waitfordeployment</code> instead. You can also remove this flag if you want the Jenkins job to complete immediately without waiting for the deployment in Octopus to complete.</li>
</ul>
<div class="alert alert-success"><p><strong>Octo.exe arguments</strong><br />
Again, see the <a href="/docs/v/3.13/api-and-integration/octo.exe-command-line" class="alert-link">arguments to Octo.exe</a> to see other parameters that you can specify. If your deployment is likely to take longer than 10 minutes, for example, consider passing <code>--deploymenttimeout=00:20:00</code> to make it 20 minutes.</p>
</div>
<p>With these settings, Jenkins should trigger a deployment as soon as a job completes.</p>
<p><strong>Give us feedback</strong></p>
<p>We're Octopus Deploy experts, not Jenkins experts, so we're always looking for ways to improve this page. If you think this can be improved, or if you get stuck, <a href="https://octopus.com/support">get in touch on our support site</a>!</p>
</div>
</div>
<div class="col-md-3" style="padding-bottom: 100px">
<div class="panel panel-info documentation">
<div class="panel-heading">
<div class="panel-title">
<a href="/docs">Documentation</a>
<div style="margin-top: -3px; margin-bottom: 0" class="dropdown pull-right">
<button class="btn btn-info btn-xs dropdown-toggle" type="button" id="versionSelector" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
Latest
<span class="caret"></span>
</button>
<ul class="dropdown-menu" aria-labelledby="versionSelector"><li class=''><a href='/docs/api-and-integration/jenkins'>Latest</a></li><li class=''><a href='/docs/v/3.14/api-and-integration/jenkins'>3.14</a></li><li class='disabled'><a href='/docs/v/3.13/api-and-integration/jenkins'>3.13</a></li><li class=''><a href='/docs/v/3.12/api-and-integration/jenkins'>3.12</a></li><li class=''><a href='/docs/v/3.11/api-and-integration/jenkins'>3.11</a></li><li class=''><a href='/docs/v/3.10/api-and-integration/jenkins'>3.10</a></li><li class=''><a href='/docs/v/3.9/api-and-integration/jenkins'>3.9</a></li><li class=''><a href='/docs/v/3.8/api-and-integration/jenkins'>3.8</a></li><li class=''><a href='/docs/v/3.7/api-and-integration/jenkins'>3.7</a></li><li class=''><a href='/docs/v/3.6/api-and-integration/jenkins'>3.6</a></li></ul>
</div>
</div>
</div>
<div class="panel-body">
<form action="/search" method="get"> <div class="form-search search-only">
<i class="search-icon fa fa-search"></i>
<input id="context" name="context" type="hidden" value="docs">
<input class="form-control search-query" id="q" name="q" placeholder="Search" type="text" value="">
</div>
</form>
<div class="sidebar">
<ul>
<li>
<a class=" " href="/docs/getting-started">Getting started</a>
</li>
<li>
<a class=" has-children" href="/docs/installation">Installation</a>
</li>
<li>
<a class=" has-children" href="/docs/key-concepts">Key Concepts</a>
</li>
<li>
<a class=" has-children" href="/docs/packaging-applications">Packaging applications</a>
</li>
<li>
<a class=" has-children" href="/docs/deployment-targets">Deployment targets</a>
</li>
<li>
<a class=" has-children" href="/docs/deploying-applications">Deploying applications</a>
</li>
<li>
<a class=" has-children" href="/docs/api-and-integration">API and Integration</a>
</li>
<li>
<a class=" has-children" href="/docs/patterns">Patterns</a>
</li>
<li>
<a class=" has-children" href="/docs/administration">Administration</a>
</li>
<li>
<a class=" has-children" href="/docs/reference">Reference</a>
</li>
<li>
<a class=" has-children" href="/docs/how-to">How to</a>
</li>
<li>
<a class=" has-children" href="/docs/guides">Guides</a>
</li>
</ul>
</div>
</div>
</div>
<div class="text-center">
<a href="https://github.com/OctopusDeploy/docs/blob/master/docs/index.md" class="tutorial" rel="nofollow">Edit this page on GitHub</a>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="bottom">
<div id="footer">
<div class="container">
<div class="row">
<div class="col-md-3">
<strong>Octopus Deploy</strong>
<p>
<a href="/company/about">Company</a>
<br>
<a href="/company/testimonials">Testimonials</a>
<br>
<a href="/company/roadmap">Roadmap</a>
<br>
<a href="/privacy">Privacy policy</a>
<br>
<a href="/company/team">Team</a>
</p>
</div>
<div class="col-md-3">
<strong><a href="/docs" style="color: inherit">Documentation</a></strong>
<p>
<a href="/docs/getting-started">
Getting started
</a>
<br>
<a href="/docs/packaging-applications">
Packaging
</a>
<br>
<a href="/docs/deploying-applications">
Deploying applications
</a>
<br>
<a href="/docs/api-and-integration">
REST API and integration
</a>
<br>
<a href="/docs/how-to">
How to
</a>
</p>
</div>
<div class="col-md-3">
<strong><a href="/support" style="color: inherit">Help &amp; Support</a></strong>
<p>
<a href="http://help.octopusdeploy.com/discussions/problems" class="external">
Problems
</a>
<br>
<a href="http://help.octopusdeploy.com/discussions/questions" class="external">
Questions
</a>
<br>
<a href="https://octopusdeploy.uservoice.com/" class="external">
Suggestions
</a>
<br>
<a href="/videos">
Videos
</a>
<br>
<a href="/company/partners">
Partners
</a>
</p>
</div>
<div class="col-md-3" style="text-align: left">
<strong>Follow us</strong>
<p>
<a href="https://twitter.com/OctopusDeploy"><i class="fa fa-fw fa-twitter" style='color: rgb(85, 172, 238);'></i> @OctopusDeploy</a><br>
<a href="https://github.com/OctopusDeploy"><i class="fa fa-fw fa-github" style='color: white'></i> OctopusDeploy</a><br>
<a href="http://www.youtube.com/c/Octopusdeploy"><i class="fa fa-fw fa-youtube-play" style='color: #D52423'></i> YouTube</a><br>
<a href="http://feeds.feedburner.com/OctopusDeploy"><i class="fa fa-fw fa-rss" style='color: orange'></i> Octopus Deploy Blog</a><br>
<a href="https://confirmsubscription.com/h/d/740FABA4D5BBCE4B"><i class="fa fa-fw fa-envelope" style='color: #7BD678'></i> Newsletter</a><br>
</p>
</div>
</div>
</div>
</div>
</div>
<script src="https://octopus.com/bundles/jquery?v=G3cMxyHQisnfgHNXEHQ14yIRldK7D4FD5TlU9xTesBI1"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.7.0/featherlight.min.js" integrity="sha256-zTDNEf7J+bPdCSndhy8DppFjxfRGG5BFJW5obpl0XQs=" crossorigin="anonymous"></script>
<script type="text/javascript">
    (function ($) {
        var ts;

        $("div.navbar-fixed-top").autoHidingNavbar();
            
        $.featherlight.defaults.closeOnClick = 'anywhere';
        $.featherlight.defaults.afterOpen = function () {
            ts = + new Date();
            $(window).on('scroll', closeFeatherlightOnScroll);
        };

        function closeFeatherlightOnScroll(event) {
            var nowTs = + new Date();

            if (ts + 500 > nowTs) {
                return;
            }
            $.featherlight.close(event);
            $(window).off('scroll', closeFeatherlightOnScroll);
        }
    })($);
</script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js" integrity="sha256-KbfTjB0WZ8vvXngdpJGY3Yp3xKk+tttbqClO11anCIU=" crossorigin="anonymous"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/sql.min.js" integrity="sha256-J7HuqMJTEc5SsyA8nOP0+kVUMGlQq0LrQAvAVgs1k1E=" crossorigin="anonymous"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/powershell.min.js" integrity="sha256-cRUESDACI7Yr/eSmoHs6zDQu6HmpAkCp0s4xrZ9RnE0=" crossorigin="anonymous"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/dockerfile.min.js" integrity="sha256-putofyQv7OB569xAldpyBnHJ0Uc+7VGp5Us05IgDGss=" crossorigin="anonymous"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/fsharp.min.js" integrity="sha256-EwjgDftHUX2pcHkcn19JrQPazoBiHIDivBrellTCYnA=" crossorigin="anonymous"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/anchor-js/3.2.2/anchor.min.js" integrity="sha256-WofcoLT8gToeaSmVRe28qpnlFxdBJH1n4K6Bk3YowvU=" crossorigin="anonymous"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/twemoji/2.2.3/twemoji.min.js" integrity="sha256-Y3KC8juDUsBOzJ3XtOH/sj+BAlF9AQr6pEey+4ibaJ4=" crossorigin="anonymous"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.17.1/moment.min.js" integrity="sha256-Gn7MUQono8LUxTfRA0WZzJgTua52Udm1Ifrk5421zkA=" crossorigin="anonymous"></script>
<script type="text/javascript">
        (function($) {
            $('time').each(function(i, e) {
                var time = moment($(e).attr('datetime')).fromNow();
                $(e).html(time);
            });

            hljs.initHighlightingOnLoad();

            anchors.options.placement = 'left';
            anchors.add('#doc_content > h1, #doc_content > h2, #doc_content > h3, #doc_content > h4');

            twemoji.parse(document.body,
            {
                size: '16x16',
                base: 'https://cdnjs.cloudflare.com/ajax/libs/twemoji/2.2.3/'
            });
            
            function canCopyToClipboard() {
                return window.clipboardData && window.clipboardData.setData ||
                    document.queryCommandSupported && document.queryCommandSupported("copy");
            };

            function copyToClipboard(text) {
                if (window.clipboardData && window.clipboardData.setData) {
                    $(window).trigger("copy", e);
                    return clipboardData.setData("Text", text);

                } else if (document.queryCommandSupported && document.queryCommandSupported("copy")) {
                    var textarea = document.createElement("textarea");
                    textarea.textContent = text;
                    textarea.style.position = "fixed";
                    document.body.appendChild(textarea);
                    textarea.select();
                    try {
                        return document.execCommand("copy");
                    } catch (ex) {
                        console.warn("Copy to clipboard failed.", ex);
                        return false;
                    } finally {
                        document.body.removeChild(textarea);
                    }
                }

                return false;
            };

            if (canCopyToClipboard()) {
                var copyButton =
                    $("<a title=\"Copy to clipboard\" class=\"btnCopy btn btn-default btn-xs\" href=\"#\" role=\"button\">Copy</a>");
                copyButton.click(function (e) {
                    var el = $(this).parent().next().find("code");
                    if (el) {
                        copyToClipboard(el[0].textContent);
                        $(this).attr("title", "Copied!").tooltip("fixTitle").tooltip("show")
                               .attr("title", "Copy to clipboard").tooltip("fixTitle");
                    }
                    e.stopPropagation();
                    return false;
                });

                var wrapperForButton =
                    $("<div class=\"copyToClipboard\"></div>").append(copyButton);

                $("pre").before(wrapperForButton);
                $("a.btnCopy").tooltip();
            }
        })($);
    </script>
 
 
</body>
</html>
